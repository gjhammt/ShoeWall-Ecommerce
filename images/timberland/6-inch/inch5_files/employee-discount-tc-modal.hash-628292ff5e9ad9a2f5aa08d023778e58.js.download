define(["jquery","wcs.context","foundation.core","foundation.reveal"],function(n,c){"use strict";var i="VFEMP_DISCOUNT_TC_ACTION_",e=c.getWCCookie(i,""),t=!1,o=n("#modal-vf-employee-discount-terms-condition");function a(a){var e={action:a};n.ajax({url:c.getContextRoot()+o.data("actionUrl"),type:"POST",data:e,dataType:"json"}).done(function(e){if(e.success){c.removeWCCookie(i);var t=dataLayer[0].pageName;"accepted"!==a||"shopcart"!==t&&"shipping"!==t&&"billing-review"!==t&&"billing"!==t||(o=n("form.checkout-summary-recalculate-js"),n.ajax({url:o.attr("action"),type:o.attr("method"),data:o.serialize()}).done(function(e){window.location.reload()}).fail(function(){console.log("Order Recalculate call failed")}))}var o}).fail(function(){console.log("T&C Action call failed")}).always(function(){t=!0,o.foundation("close")})}"R"===c.getUserType()&&""!==e&&(o.foundation("open"),n(document).on("closed.zf.reveal",o,function(e){t||a("declined")}),o&&o.on("click","button",function(e){var t=n(e.target),o=t.attr("id");t&&("vfemp-tc-accept"===o?a("accepted"):"vfemp-tc-decline"===o&&a("declined"),e.preventDefault())}))});
//# sourceMappingURL=../../maps/js/wcs/employee-discount-tc-modal.hash-91e802ff94884bda410ab0b53980e352.js.map