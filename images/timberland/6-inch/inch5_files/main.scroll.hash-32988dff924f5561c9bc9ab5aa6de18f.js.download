define(["jquery","pubsub","wcs.utils"],function(i,n,t){function e(n,t){this.element=n,this.options=t}var o="mainscroll";e.defaults=(e.prototype={defaults:{scrollThreshold:100,rateLimit:150},init:function(){var n=this;return n.config=i.extend({},n.defaults,n.options),n.$element=i(n.element),n.config.currentScroll=n.$element.scrollTop(),n.events(),n},events:function(){this.initScrollEvents()},throttle:function(i,e){var o,l;return function(){var n=this,t=arguments;l?(clearTimeout(o),o=setTimeout(function(){Date.now()-l>=e&&(i.apply(n,t),l=Date.now())},e-(Date.now()-l))):(i.apply(n,t),l=Date.now())}},initScrollEvents:function(){var t=this,n=t.throttle(function(){var n={was:t.config.currentScroll,now:t.$element.scrollTop()};i.pubsub("publish","window.scroll",n),t.config.currentScroll=n.now},t.config.rateLimit);window.addEventListener("scroll",n)}}).defaults,i.fn.mainscroll=function(t){return this.each(function(){var n=i(this).data(o);n||(n=new e(this,t).init(),i(this).data(o,n),window.main=window.main||{},window.main.scroll=window.main.scroll||n)})},i(document.scrollingElement||"html").mainscroll()});
//# sourceMappingURL=../../maps/js/shared/main.scroll.hash-93f3d2ab449876d00a999e5a18ee9c7d.js.map