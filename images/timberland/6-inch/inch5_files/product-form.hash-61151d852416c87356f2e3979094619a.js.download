define(["require","jquery","wcs.utils","wcs.context","jquery.tooltipster","s7-imageset-name-parser"],function(h,w,y,v){function o(t,e){this.element=t,this.options=e}var r="productForm";o.defaults=(o.prototype={defaults:{dataInput:"data-product-form-options"},init:function(){var t=this;return t.metadata=w(t.element).data(r+"Options"),t.config=w.extend({},t.defaults,t.options,t.metadata),t.events(),w(".product-form-js").length&&t.initProductForm(document),t},events:function(){var o=this;w(document).on("QUICKSHOP_DISPLAY",function(t){var e=!1;return function(t){e||(e=!0,o.initProductForm(t.target))}})},initProductForm:function(t){var e=w("#product-form section.tooltip-js");function o(t,e){return e=e||document,0<w(t,w(e)).length}var r=".quickview-box-js",n=WCS_CONFIG.get("PDP::pdpTemplateType"),a=w(t)||w(document),d=w(".product-form-js"),c=0<w("body.catalog.bundle, body.catalog.bundle-detail-page-js").length,i=o(r),s=i&&o(".shopcart-update-js",r),u=i&&o(".shopcart-exchange-js",r),p=i&&!s&&!u,l=!i&&"pdp"===w("body").data("page-type"),m=y.getURLParam(window.location.href,"token"),f=w(".product-form-js").data("redeem-gift-enabled")&&0<m.length,g=w(".give-as-gift-link-js");s&&h(["wcs.product-form-update-item"],function(){d.UpdateItemForm()}),u&&h(["wcs.product-form-exchange-item"],function(){d.ExchangeItemForm()}),(l||p||c)&&h(["wcs.product-form-add-to-cart"],function(){d.AddToCartForm()}),0<d.length&&("basic"===n||"drawer"===n)&&h(["wcs.product-form-colorway-events"],function(){d.ColorwayBundleEvents()}),"swatches"===n&&0<d.length&&h(["wcs.product-form-pdpswatches-events"],function(){d.PDPSwatchesEvents()}),!0!==WCS_CONFIG.get("PDP::authOnlineDealerEnabled")||p||f||h(["wcs.product-form-online-dealers"],function(){a.find(".online-dealer-js").OnlineDealers()}),"swatches"===n&&0<d.length&&h(["wcs.product-form-detail"]),0<w(".context-trigger-js").length&&h(["wcs.product-form-context"]),0<w("#find-store-container").length&&h(["wcs.find-in-store"]),!c&&("drawer"===n||"swatches"===n)&&0<d.length&&h(["wcs.product-form-drawer"]),e.data("tooltipster-ns")&&a.tooltipster("disable"),l&&h(["wcs.product-form-html5history"]),0<g.length&&h(["shared.cashstar"],function(){var t=g,e=t.data();t.on("click",function(t){t.preventDefault(),window.cstar.openPbg({appUrl:e.appurl,modalZIndex:e.modalzindex,productId:e.productid,productBrandName:e.productbrandname,productName:e.productname,productUrl:e.producturl,productImageUrl:e.productimageurl,productImageWidth:e.productimagewidth,productImageHeight:e.productimageheight,productCategory:e.productcategory,productOriginalPrice:e.productoriginalprice,productDiscountedPrice:e.productdiscountedprice,promoCode:e.promocode,languageCode:e.languagecode,currencyCode:e.currencycode,user:{id:e.user}})})}),"R"==v.getUserType()?"1"==v.getLoyaltyOptIn()?a.find(".product-loyalty-points-message.member").removeClass("hide"):a.find('.product-loyalty-points-message:not(".member")').removeClass("hide").find(".loyalty-form-hopup").addClass("hide"):a.find('.product-loyalty-points-message:not(".member")').removeClass("hide")}}).defaults,w.fn[r]=function(e){return this.each(function(){var t=w(this).data(r);t||(t=new o(this,e).init(),w(this).data(r,t))})}});
//# sourceMappingURL=../../../maps/js/vfdp/view/product-form.hash-aace617cb2b9c944168e7008941ab82b.js.map