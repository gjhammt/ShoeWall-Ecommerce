/*!
 * genesys.js
 * @version: 2.2.0
 * @license: Genesys Telecom Labs
 */!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!x[e]||!w[e])return;for(var n in w[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(m[n]=t[n]);0==--y&&0===v&&C()}(e,n),t&&t(e,n)};var n,r=!0,o="3a2a135628ffc6b1ba50",i={},s=[],a=[];function c(e){var t=I[e];if(!t)return T;var r=function(r){return t.hot.active?(I[r]?-1===I[r].parents.indexOf(e)&&I[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),T(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return T[e]},set:function(t){T[e]=t}}};for(var i in T)Object.prototype.hasOwnProperty.call(T,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===d&&f("prepare"),v++,T.e(e).then(t,(function(e){throw t(),e}));function t(){v--,"prepare"===d&&(b[e]||_(e),0===v&&0===y&&C())}},r.t=function(e,t){return 1&t&&(e=r(e)),T.t(e,-2&t)},r}function u(t){var r={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==t,active:!0,accept:function(e,t){if(void 0===e)r._selfAccepted=!0;else if("function"==typeof e)r._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)r._acceptedDependencies[e[n]]=t||function(){};else r._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)r._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)r._declinedDependencies[e[t]]=!0;else r._declinedDependencies[e]=!0},dispose:function(e){r._disposeHandlers.push(e)},addDisposeHandler:function(e){r._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=r._disposeHandlers.indexOf(e);t>=0&&r._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,d){case"idle":(m={})[t]=e[t],f("ready");break;case"ready":k(t);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(t)}},check:S,apply:O,status:function(e){if(!e)return d;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:i[t]};return n=void 0,r}var l=[],d="idle";function f(e){d=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var p,m,h,g,y=0,v=0,b={},w={},x={};function j(e){return+e+""===e?+e:e}function S(e){if("idle"!==d)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=T.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f(E()?"ready":"idle"),null;w={},b={},x=e.c,h=e.h,f("prepare");var t=new Promise((function(e,t){p={resolve:e,reject:t}}));m={};return _(1),"prepare"===d&&0===v&&0===y&&C(),t}));var t}function _(e){x[e]?(w[e]=!0,y++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=T.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):b[e]=!0}function C(){f("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then((function(){return O(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&t.push(j(n));e.resolve(t)}}function O(t){if("ready"!==d)throw new Error("apply() is only allowed in ready status");return function t(r){var a,c,u,l,d;function p(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,s=o.chain;if((l=I[i])&&(!l.hot._selfAccepted||l.hot._selfInvalidated)){if(l.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:s,moduleId:i};for(var a=0;a<l.parents.length;a++){var c=l.parents[a],u=I[c];if(u){if(u.hot._declinedDependencies[i])return{type:"declined",chain:s.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(u.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),y(n[c],[i])):(delete n[c],t.push(c),r.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}E();var v={},b=[],w={},S=function(){console.warn("[HMR] unexpected require("+C.moduleId+") to disposed module")};for(var _ in m)if(Object.prototype.hasOwnProperty.call(m,_)){var C;d=j(_),C=m[_]?p(d):{type:"disposed",moduleId:_};var O=!1,k=!1,P=!1,D="";switch(C.chain&&(D="\nUpdate propagation: "+C.chain.join(" -> ")),C.type){case"self-declined":r.onDeclined&&r.onDeclined(C),r.ignoreDeclined||(O=new Error("Aborted because of self decline: "+C.moduleId+D));break;case"declined":r.onDeclined&&r.onDeclined(C),r.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+C.moduleId+" in "+C.parentId+D));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(C),r.ignoreUnaccepted||(O=new Error("Aborted because "+d+" is not accepted"+D));break;case"accepted":r.onAccepted&&r.onAccepted(C),k=!0;break;case"disposed":r.onDisposed&&r.onDisposed(C),P=!0;break;default:throw new Error("Unexception type "+C.type)}if(O)return f("abort"),Promise.reject(O);if(k)for(d in w[d]=m[d],y(b,C.outdatedModules),C.outdatedDependencies)Object.prototype.hasOwnProperty.call(C.outdatedDependencies,d)&&(v[d]||(v[d]=[]),y(v[d],C.outdatedDependencies[d]));P&&(y(b,[C.moduleId]),w[d]=S)}var A,N=[];for(c=0;c<b.length;c++)d=b[c],I[d]&&I[d].hot._selfAccepted&&w[d]!==S&&!I[d].hot._selfInvalidated&&N.push({module:d,parents:I[d].parents.slice(),errorHandler:I[d].hot._selfAccepted});f("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete installedChunks[e]}(e)}));var M,L,U=b.slice();for(;U.length>0;)if(d=U.pop(),l=I[d]){var R={},J=l.hot._disposeHandlers;for(u=0;u<J.length;u++)(a=J[u])(R);for(i[d]=R,l.hot.active=!1,delete I[d],delete v[d],u=0;u<l.children.length;u++){var q=I[l.children[u]];q&&((A=q.parents.indexOf(d))>=0&&q.parents.splice(A,1))}}for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(l=I[d]))for(L=v[d],u=0;u<L.length;u++)M=L[u],(A=l.children.indexOf(M))>=0&&l.children.splice(A,1);f("apply"),void 0!==h&&(o=h,h=void 0);for(d in m=void 0,w)Object.prototype.hasOwnProperty.call(w,d)&&(e[d]=w[d]);var G=null;for(d in v)if(Object.prototype.hasOwnProperty.call(v,d)&&(l=I[d])){L=v[d];var B=[];for(c=0;c<L.length;c++)if(M=L[c],a=l.hot._acceptedDependencies[M]){if(-1!==B.indexOf(a))continue;B.push(a)}for(c=0;c<B.length;c++){a=B[c];try{a(L)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:d,dependencyId:L[c],error:e}),r.ignoreErrored||G||(G=e)}}}for(c=0;c<N.length;c++){var H=N[c];d=H.module,s=H.parents,n=d;try{T(d)}catch(e){if("function"==typeof H.errorHandler)try{H.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:t,originalError:e}),r.ignoreErrored||G||(G=t),G||(G=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:d,error:e}),r.ignoreErrored||G||(G=e)}}if(G)return f("fail"),Promise.reject(G);if(g)return t(r).then((function(e){return b.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return f("idle"),new Promise((function(e){e(b)}))}(t=t||{})}function E(){if(g)return m||(m={}),g.forEach(k),g=void 0,!0}function k(t){Object.prototype.hasOwnProperty.call(m,t)||(m[t]=e[t])}var I={};function T(t){if(I[t])return I[t].exports;var n=I[t]={i:t,l:!1,exports:{},hot:u(t),parents:(a=s,s=[],a),children:[]};return e[t].call(n.exports,n,n.exports,c(t)),n.l=!0,n.exports}T.m=e,T.c=I,T.d=function(e,t,n){T.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},T.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},T.t=function(e,t){if(1&t&&(e=T(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(T.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)T.d(n,r,function(t){return e[t]}.bind(null,r));return n},T.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return T.d(t,"a",t),t},T.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},T.p="",T.h=function(){return o},c("./src/genesys.js")(T.s="./src/genesys.js")}({"./includes/cxbus.min.js":function(e,t,n){(function(e){var n,r,o,i;function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
 * cxbus
 * @version: 2.0.4
 * @license: Genesys Telecom Labs
 */window,i=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==s(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r;void 0===(r=function(){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)})(e)}!function(){var i=n(1).Promise,s=ge(),a="color:red;font-weight:bold",c="color:white;background:#6495ed",u="color:#555;font-style:italic",l="color:#6495ed;font-weight:bold",d=!1,f=!1,p=[],m={},h={},g={},y={},v={},b={},w={},x={},j={},S=[],_=window.Genesys&&window.Genesys.q&&J(window.Genesys.q,N)?window.Genesys.q:[],C=!1,O=!0,E=!1,k=!1,I="plugin.min.js",T={},P=!0,D=!1,A="*",N="array",M=function(){},L={last:null,value:null},U="Plugin does not exist and no plugins path is configured";function R(e){J(e=function(e){var t={};for(var n in e)t[n.toLowerCase()]=e[n];return t}(e),"object")&&(J(e.debug,"boolean")&&(C=e.debug),J(e.queue,N)&&e.debug,J(e.async,"boolean")&&(P=e.async),J(e.log,"boolean")&&(O=e.log),J(e.logstore,"boolean")&&(E=e.logstore),J(e.loadplugins,"boolean")&&e.loadplugins,J(e.pluginspath,"string")&&(k=function(e){return e&&"/"!=e[e.length-1]?e+"/":e}(e.pluginspath)),J(e.pluginfilenameformat,"string")&&(I=e.pluginfilenameformat),J(e.pluginmap,"object")&&(T=e.pluginmap),J(e.childDomain,"string")&&(A=e.childDomain),J(e.childmode,"boolean")&&1==e.childmode&&(D=e.childmode,f=!0,(window.opener||window.parent).postMessage({type:"CXBus.childCallout",registry:Object.keys(h),busID:s},"*")),re("%cGenesys configuration changed",c))}function J(e,t){return t===N?!!Array.isArray(e):o(e)==t}function q(e,t,n){return ne(e,(function(r,i){var u,f;d&&!h[e]&&void 0===t?Ce({type:"CXBus.remoteExecution",subType:"registerPlugin",busID:s,pluginName:e}).then((function(e){"pass"===e.resolution?q(e.pluginName,!0).then((function(e){r(e)})):"fail"===e.resolution&&q(e.pluginName,!1).then((function(e){i(e)}))})):!d||d&&!h[e]&&!0===t?"string"!=o(e)||h[e]?h[e]&&i("%cCan't register plugin "+oe(e)+" -- Name is already taken",a,l,a):(h[e]={name:e,namespace:e,interface:z(e),events:{},commands:{},data:{},buffer:[],ready:!1,busID:n||s},y[e]={events:[],commands:[]},h[e]==s&&re("%c New Plugin Registered "+oe(" "+e),c,l),(f=(u=h[e]).interface).registerCommand("COMMANDS",(function(e){X(u,"Commands"),e.resolve()})),f.registerCommand("EVENTS",(function(e){X(u,"Events"),e.resolve()})),f.registerCommand("LOAD",(function(e){e.resolve()})),h[e].interface.initData=b[e]||{},r(h[e].interface),b[e]&&delete b[e]):d&&!1===t&&i("%cCan't register plugin "+oe(e)+" -- Name is already taken",a,l,a)}))}function G(e,t){return ne(e,(function(n,r){if(function(e){for(var t in e.split(".").length>1&&(e=e.split(".")[0]),h)if(t.toLowerCase()==e.toLowerCase())return!0;return!1}(e)||function(e){return w[e]}(e))re("%cCan't load plugin ("+oe(e)+") -- This plugin is already loaded or an unexpected error occurred.",a,l,a),r();else{var i=I.replace("plugin",e).toLowerCase(),s=T[e]||T[e.toLowerCase()],u=function(t){!function(e){w[e]=!0}(e),n(t)},d=function(){r("Could not load plugin file: "+i)};b[e]=t||{},re("%cLoading plugin: "+(s||i),l),"string"==o(s)&&""!==s&&s.match(".js$")?V(s,u,d):"string"!=o(s)||""===s||s.match(".js$")?!1===s?(re("%cNotice: "+i+" was prevented from loading by the current plugin mapping configuration.",c),r()):V(k+i,u,d):(re("%cError: ("+s+") is not recognized as a javascript file. Please map plugins to javascript files only.",a),r())}}))}function B(e){return ne("loadFile",(function(t,n){!function(e){return x[e]}(e)?(re("%cLoading file: "+e,l),V(e,(function(n){!function(e){x[e]=!0}(e),t(n)}),(function(){n("Could not load file: "+e)}))):(re("%cCan't load file ("+e+") -- This file was already loaded",a,l,a),n())}))}function H(e,t){return ne("loadJSON",(function(t,n){var r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&"200"==r.status?r.responseText&&t(r.responseText):"200"!=r.status&&0!=r.status&&n("loadJSON failed with status code: "+r.status)},r.send(null)}))}function F(e){return ne("loadModule",(function(t,n){e&&j[e]?setTimeout((function(){t(j[e])}),0):V(k+e+".mod.js",(function(n){t(j[e])}),(function(){n("Could not load module: "+e)}))}))}function V(e,t,n){if(!e)return!1;var r=document.createElement("script");return r.type="text/javascript",r.onload=t,r.onerror=n,r.src=e,r.charset="UTF-8",document.head.appendChild(r),!0}function z(e){var t=function(){try{C&&console.log&&console.log.apply(this,arguments)}catch(e){}};return t.info=function(){try{C&&console.info&&console.info.apply(this,arguments)}catch(e){}},t.warn=function(){try{C&&console.warn&&console.warn.apply(this,arguments)}catch(e){}},t.error=function(){try{C&&console.error&&console.error.apply(this,arguments)}catch(e){}},{publish:function(t,n){return Q(e,t,n)},publishDirect:function(t,n){return Q(e,t,n,!1,!0)},republish:function(t,n){return Q(e,t,n,!0)},subscribe:function(t,n){return ee(e,t,n)},unsubscribe:function(t){return function(e,t){if($(e)&&g[t]&&g[t].subscribers){for(var n=[],r=0;r<g[t].subscribers.length;r++)g[t].subscribers[r].subscriber!=e&&n.push(g[t].subscribers[r]);return n.length>0?g[t].subscribers=n:delete g[t],re(oe(e)+" unsubscribed from "+oe(t),l,u,l),!0}return!1}(e,t)},command:function(t,n){return te({commander:e,command:t,data:n})},before:function(e,t){return r=t,!!W(n=e)&&(v[n]||(v[n]=[]),v[n].push(r),!0);var n,r},registerCommand:function(t,n){return K(e,t,n)},registerEvents:function(t){!function(e,t){var n=$(e);if(J(t=t||[],"string")&&(t=[t]),n&&t.length>0){for(var r=0;r<t.length;r++)n.events[t[r]]||(n.events[t[r]]=!0,y[e].events.push(t[r]));re(oe(e)+" registered the events: %c"+t.join(", "),l,u,l)}}(e,t)},namespace:function(){return e+""},subscribers:function(){return function(e){var t={};for(var n in g)if(n.match(e)){t[n]||(t[n]=[]);for(var r=0;r<g[n].subscribers.length;r++)t[n].push(g[n].subscribers[r].subscriber)}return t}(e)},data:function(t,n){return function(e,t,n){return function(e,t,n){if(null!=n){var r;h[e].data[t]?r=h[e].data[t].value:h[e].data[t]=L,o(r);var i=o(n),s={};s.last=r,s.value=n,s.time=(new Date).getTime();var a="data."+t;r!=n&&(Q(e,"data",h[e].data),Q(e,a,s),Q(e,"string"==i?a+":'"+s.value+"'":a+":"+s.value,s,!1,!0)),h[e].data[t]=s}}(e,t,n),function(e,t){if(h[e].data[t])return h[e].data[t].value;if(e&&!t&&h[e])return h[e].data||{};var n=W(t),r=h[n];return t=t.replace(n+".",""),r&&r.data[t]?r.data[t].value:void 0}(e,t)}(e,t,n)},registry:function(){return y},initData:{},log:t,ready:function(){return function(e,t){h[e].ready=!0,function(e){var t=h[e].buffer||[],n=0;for(n=0;n<t.length;n++)!function(e){var t=Y(e.command);re(oe(e.commander)+" called the command: "+oe(e.command),l,u,l),t&&ie((function(){t(e)}))}(t[n]);h[e].buffer=[]}(e),Q(e,"ready",t||{},!0)}(e)}}}function X(e,t){for(var n in re("%cList of "+t+" for: "+oe(e.namespace),c,l),e[t.toLowerCase()])re("%c"+n,c)}function W(e){return e.split(".")[0]}function $(e){return h[e]||h[W(e)]||!1}function Y(e){var t=e.split(".")||[],n=!1;return 2==t.length&&(n=$(t[0]))&&n.commands[t[1]]||!1}function K(e,t,n){var r=$(e);return!!r&&(r.commands[t]||y[e].commands.push(t),r.commands[t]=n,r.busID==s&&re(oe(e)+" registered the command: "+oe(t),l,u,l),d&&ve({id:s,childID:s,busID:s,type:"CXBus.remoteExecution",subType:"registerCommand",namespace:e,commandName:t}),!0)}function Q(e,t,n,r,o,i){var a=se([e,t]),c=oe(e)+" published: "+oe(t);if(n=n||{},!0===r&&(g[a]?(g[a].republish=!0,g[a].data=n):g[a]={subscribers:[],republish:!0,data:n}),o||i||re(c,l,u,l),Oe("publish",a,g[a]),g[a]){o&&!i&&re(c,l,u,l);for(var d=g[a].subscribers,f=0;f<d.length;f++)ie(d[f].callback,{time:(new Date).getTime(),publisher:e,event:a,data:n||{}})}return i||be("publish",{busID:s,childID:s,event:a,eventName:t,publisher:e,republish:r,direct:o,data:n}),!0}function Z(e,t,n,r){re(oe(t)+" republished: "+oe(e),l,u,l),ie(n,{time:(new Date).getTime(),publisher:t,event:e,data:r})}function ee(e,t,n){var r=$(e),o=$(t);return!(!n||!r)&&(g[t]||(g[t]={subscribers:[],republish:!1}),g[t].subscribers.push({subscriber:e,callback:n}),re(oe(e)+" subscribed to "+oe(t),l,u,l),!0===g[t].republish&&o&&Z(t,o.namespace,n,g[t].data||{}),be("subscribe",{busID:s,childID:s,eventName:t,subscriber:e}),t)}function te(e){var t=e.commander,n=e.command,r=e.data,i=e.resolveBuff,c=e.rejectBuff,f=e.buffered;Oe("Command: "+n),r=r||{},n&&1===n.split(".").length&&(n=se([t,n])),f||(r=function(e,t){for(var n=v[e]||[],r=0;r<n.length;r++)"object"==o(t)&&!1!==t&&null!=t&&(t=n[r](t));return t}(n,r));var p=Y(n),m=W(n),g=h[m];if(d&&!g)return Oe("Plugin not found locally. Checking with my parent..."),Ce({type:"CXBus.remoteExecution",subType:"command",busID:s,pluginName:m,commandName:n,commander:t,data:r});if(!d&&!g)return Oe("Plugin not found anywhere by parent. Returning error..."),e.message?(e.message.resolution="fail",e.message.resolutionData=U,Ce(e.message)):ne(n,(function(e,t){t("Plugin does not exist")}));if(!d&&g&&g.busID!=s&&e.message)return Oe("Parent found the plugin on a child node. Redirecting...."),e.message.targetID=g.busID,Ce(e.message);if(!d&&g&&g.busID!=s&&!e.message)return Oe("Parent found the plugin on a child node. Redirecting...."),Ce({type:"CXBus.remoteExecution",subType:"command",busID:s,pluginName:m,commandName:n,commander:t,data:r,targetID:g.busID});if(g&&g.busID==s){var y=ne(n,(function(d,f){var y={time:(new Date).getTime(),commander:t,command:n,resolve:i||d,reject:c||f,data:r||{}};"object"==o(r)&&!1!==r&&null!=r?g&&g.busID==s?(Oe("Plugin was found locally on this node. Attempting to execute command now..."),re(oe(t)+" called the command: "+oe(n),l,u,l),g.ready||m==t?p?p(y):(e.message&&(e.message.resolution="fail",e.message.resolutionData="Command does not exist"),y.reject("Command does not exist")):g.ready||(re("%c"+oe(m)+" has not been loaded yet or it has not called its ready() method. Your command call ("+n+") has been buffered and will be executed once the plugin has loaded and/or called its ready() method.",a,a,a),function(e,t){h[e].buffer.push(t)}(m,y))):!g&&k?G(m).done((function(){te({commander:t,command:n,data:r,resolveBuff:y.resolve,rejectBuff:y.reject,buffered:!0})})).fail((function(){e.message.resolution="fail",e.message.resolutionData="Could not load plugin file in given location. Check your plugins path option.",y.reject("Could not load plugin file in given location. Check your plugins path option.")})):g||k||(e.message.resolution="fail",e.message.resolutionData=U,y.reject(U)):(e.message.resolution="fail",e.message.resolutionData="Command was cancelled by a 'before' function.",y.reject("Command was cancelled by a 'before' function.")),e.message&&"fail"==e.message.resolution&&Ce(e.message)}));return e.message&&y.then((function(t){e.message.resolution="pass",e.message.resolutionData=t,Ce(e.message)})).catch((function(t){e.message.resolution="fail",e.message.resolutionData=t,Ce(e.message)})),y}}function ne(e,t){var n=new i(t);return n.catch((function(t){re("%cError ("+oe(e)+"): ",a,a,a),console.error&&console.error(t)})),n}function re(e,t,n,r,i,s){try{O&&(E&&S.push(e+""),C&&console&&console.log&&"string"==o(e)&&("%c"==e.substr(e.length-2,2)&&(e=e.substr(0,e.length-2)),console.log.apply(this,arguments)))}catch(e){Oe("logging error!")}}function oe(e){return"%c"+e+"%c"}function ie(e,t,n,r){P||r?setTimeout((function(){e(t)}),n||0):e(t)}function se(e){return e.join(".")}function ae(){if(f)_.push(arguments);else{var e=arguments,t=e[0]||"";if("registerPlugin"==t)q(e[1]).then(e[2]||M,e[3]||M);else if("command"==t)te({commander:"Genesys",command:e[1],data:e[2]||{}}).then(e[3]||M,e[4]||M);else if("subscribe"==t&&"string"==o(e[1])&&"function"==o(e[2]))ee("Genesys",e[1],e[2]);else if("registerChild"==t)fe(e[1]);else if("executeQueue"==t)ce();else if("loadPlugin"==t)G(e[1],e[2]).then(e[3]||M,e[4]||M);else if("loadFile"==t)B(e[1]).then(e[2]||M,e[3]||M);else if("loadModule"==t)F(e[1]).then(e[2]||M,e[3]||M);else if("loadJSON"==t)H(e[1]).then(e[2]||M,e[3]||M);else{if("configure"!=t)return!1;R(e[1]||{})}}return!0}function ce(e){if(_){re("%cExecuting "+_.length+" items from the queue...",c);for(var t=0;t<_.length;t++)ae.apply(this,_[t])}}if(window.Genesys)for(var ue=Object.keys(window.Genesys),le=0;le<ue.length;le++)ae[ue[le]]=window.Genesys[ue[le]];window.Genesys=ae,q("Genesys"),"function"==o(n(3))&&n(4)&&(void 0===(r=function(){return window.Genesys}.apply(t,[]))||(e.exports=r));var de={};function fe(e){return!!e&&(e.contentWindow&&(e=e.contentWindow),de[id]={id:id,busID:void 0,intvl:setInterval((function(){pe(e,id)}),500),callAttempts:0,registered:!1,window:e,registry:[]},pe(e,id),!0)}function pe(e,t){e.postMessage({type:"CXBus.parentCallout",childID:t,busID:s},A),de[t].callAttempts++}function me(e,t,n){de[t]&&!de[t].registered?(clearInterval(de[t].intvl),de[t].registered=(new Date).getTime(),de[t].registry=n,de[t].busID=busID):(de[t]={id:t,busID:t,intvl:!1,callAttempts:0,registered:(new Date).getTime(),window:e,registry:n},e.postMessage({type:"CXBus.parentCallback",busID:t},A))}function he(e,t,n){f=!1,d=e,ce()}function ge(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}function ye(e,t){de[e]&&(t=t||{},de[e].window.postMessage(t,A))}function ve(e){d&&d.postMessage(e,"*")}function be(e,t){if((t=t||{}).subType=e,t.type="CXBus.broadcast",d)ve(t);else for(var n in de)ye(n,t)}var we,xe,je=document.getElementById("genesys-cxbus"),Se={},_e={src:0,charset:0,id:0,type:0,queue:0,pluginmap:0};if(je){for(le=0;le<je.attributes.length;le++)we=je.attributes[le].nodeName.toLowerCase(),"true"===(xe=je.attributes[le].nodeValue)&&(xe=!0),"false"===xe&&(xe=!1),_e[we]||(Se[we]=xe);R(Se)}function Ce(e){var t;if(e.id)t=e.id;else{for(t=ge();m[t];)t=ge();e.id=t}return ne("remoteExecution",(function(n,r){m[t]={success:n,fail:r},!d&&e.resolution?(Oe("--\x3e to origin"),ye(e.busID,e)):!d&&e.targetID?(Oe("--\x3e to target child"),ye(e.targetID,e)):e.id!=s&&(Oe("--\x3e to parent"),ve(e))}))}function Oe(){var e=Array.prototype.slice.call(arguments);e.unshift("["+window.name+"]")}window.addEventListener("message",(function(e){p.push(e),function(){for(;p.length>0;){var e=p.shift(),t=e.data,n=m[t.id];switch(t.type){case"CXBus.parentCallout":D&&he(e.source,t.busID,t.parentRegistry);break;case"CXBus.childCallout":D||me(e.source,t.busID,t.registry);break;case"CXBus.parentCallback":D&&he(e.source,t.busID,t.parentRegistry);break;case"CXBus.childCallback":D||me(e.source,t.busID,t.registry);break;case"CXBus.broadcast":switch(d||be(t),t.subType){case"subscribe":if(void 0===t.eventData&&g[t.eventName]&&!0===g[t.eventName].republish){var r=$(t.eventName);t.eventNamespace=r?r.namespace:"",t.eventData=g[t.eventName].data||{},t.subType="republish",ye(t.busID,t)}break;case"publish":Q(t.publisher,t.eventName,t.data,t.republished,t.direct,!0);break;case"republish":for(var o=null,i=0;i<g[t.eventName].subscribers.length;i++)g[t.eventName].subscribers[i].subscriber==t.subscriber&&(o=g[t.eventName].subscribers[i].callback);o&&Z(t.eventName,t.eventNamespace,o,t.eventData||{})}break;case"CXBus.remoteExecution":switch(t.subType){case"registerPlugin":d||($(t.pluginName)?(t.resolution="fail",ye(t.busID,t)):(t.resolution="pass",ye(t.busID,t),q(t.pluginName,!0,t.busID))),n&&t.resolution&&("pass"==t.resolution?n.success(t):"fail"==t.resolution&&n.fail(t));break;case"registerCommand":d||K(t.namespace,t.commandName,M);break;case"command":var a=m[t.id],c=W(t.commandName),u=h[c];if(t.resolution)t.resolution&&a&&("pass"==t.resolution?a.success(t.resolutionData):"fail"==t.resolution&&a.fail(t.resolutionData),d||t.busID==s||Ce(t),delete m[t.id]);else if(!d&&u&&u.busID&&u.busID!=s)t.targetID=u.busID,Ce(t);else if(u&&u.busID&&u.busID==s)te({commander:t.commander,command:t.commandName,data:t.data,message:t});else if(!d&&!u)return t.resolution="fail",t.resolutionData=U,Ce(t)}}}}()}),!1),window.reg=function(){return{busID:s,oParentBus:d,bPendingParent:f,aMessageQueue:p,oChildRegistry:de,oPlugins:h,oSubscriptions:g,oRegistry:y,oBefore:v,oLoadedPlugins:w,oLoadedFiles:x,oLoadedModules:j}}}()}.apply(t,[]))||(e.exports=r)},function(e,t,n){(function(r){var o;!function(r){var i=r.Promise,a=i&&"resolve"in i&&"reject"in i&&"all"in i&&"race"in i&&function(){var e;return new i((function(t){e=t})),"function"==typeof e}();t?(t.Promise=a?i:S,t.Polyfill=S):void 0===(o=function(){return a?i:S}.call(t,n,t,e))||(e.exports=o);var c=function(){};function u(e){return"[object Array]"===Object.prototype.toString.call(e)}var l,d="undefined"!=typeof setImmediate?setImmediate:setTimeout,f=[];function p(){for(var e=0;e<f.length;e++)f[e][0](f[e][1]);f=[],l=!1}function m(e,t){f.push([e,t]),l||(l=!0,d(p,0))}function h(e){var t=e.owner,n=t.state_,r=t.data_,o=e[n],i=e.then;if("function"==typeof o){n="fulfilled";try{r=o(r)}catch(e){b(i,e)}}g(i,r)||("fulfilled"===n&&y(i,r),"rejected"===n&&b(i,r))}function g(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==s(t))){var r=t.then;if("function"==typeof r)return r.call(t,(function(r){n||(n=!0,t!==r?y(e,r):v(e,r))}),(function(t){n||(n=!0,b(e,t))})),!0}}catch(t){return n||b(e,t),!0}return!1}function y(e,t){e!==t&&g(e,t)||v(e,t)}function v(e,t){"pending"===e.state_&&(e.state_="sealed",e.data_=t,m(x,e))}function b(e,t){"pending"===e.state_&&(e.state_="sealed",e.data_=t,m(j,e))}function w(e){var t=e.then_;e.then_=void 0;for(var n=0;n<t.length;n++)h(t[n])}function x(e){e.state_="fulfilled",w(e)}function j(e){e.state_="rejected",w(e)}function S(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof S==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function n(e){b(t,e)}try{e((function(e){y(t,e)}),n)}catch(e){n(e)}}(e,this)}S.prototype={constructor:S,state_:"pending",then_:null,data_:void 0,then:function(e,t){var n={owner:this,then:new this.constructor(c),fulfilled:e,rejected:t};return"fulfilled"===this.state_||"rejected"===this.state_?m(h,n):this.then_.push(n),n.then},catch:function(e){return this.then(null,e)}},S.all=function(e){if(!u(e))throw new TypeError("You must pass an array to Promise.all().");return new this((function(t,n){var r=[],o=0;function i(e){return o++,function(n){r[e]=n,--o||t(r)}}for(var s,a=0;a<e.length;a++)(s=e[a])&&"function"==typeof s.then?s.then(i(a),n):r[a]=s;o||t(r)}))},S.race=function(e){if(!u(e))throw new TypeError("You must pass an array to Promise.race().");return new this((function(t,n){for(var r,o=0;o<e.length;o++)(r=e[o])&&"function"==typeof r.then?r.then(t,n):t(r)}))},S.resolve=function(e){return e&&"object"==s(e)&&e.constructor===this?e:new this((function(t){t(e)}))},S.reject=function(e){return new this((function(t,n){n(e)}))}}("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this)}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":s(window))&&(n=window)}e.exports=n},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})}])},"object"==s(t)&&"object"==s(e)?e.exports=i():(r=[],void 0===(o="function"==typeof(n=i)?n.apply(t,r):n)||(e.exports=o))}).call(this,n("./node_modules/webpack/buildin/module.js")(e))},"./includes/messengerHelper.html":function(e,t){e.exports='<div class="genesys-app">\n  <style>\n    /** Initial iframe styles*/\n    .genesys-mxg-frame {\n      height: 0px;\n      max-height: 704px;\n      width: 0px;\n      top: unset;\n      left: unset;\n      bottom: 12px !important;\n      right: 20px !important;\n      z-index: 99999999;\n      border: none;\n      position: fixed;\n    }\n\n    /* Smartphones - potrait */\n    @media screen and (max-width: 600px),\n      screen and (max-device-width: 600px),\n      screen and (max-device-width: 600px) and (orientation: landscape),\n      screen and (max-device-width: 768px) and (orientation: landscape),\n      screen and (max-device-width: 823px) and (orientation: landscape),\n      screen and (max-device-width: 1200px) and (orientation: landscape) {\n      .genesys-mxg-responsive {\n        width: 0px;\n        height: 0px;\n        max-height: 100%;\n        max-width: 100%;\n        bottom: 0!important;\n        right: 0!important;\n      }\n      /* make left for RTL orientation */\n\n      .genesys-mxg-responsive-left {\n        right: unset;\n        left: 0 !important;\n      }\n      \n      .genesys-mxg-conversation {\n        height: 100% !important;\n        width: 100% !important;\n      }\n    }\n\n    /* Smartphones - landscape */\n    @media screen and (max-device-width: 600px) and (orientation: landscape),\n      screen and (max-device-width: 768px) and (orientation: landscape),\n      screen and (max-device-width: 823px) and (orientation: landscape),\n      screen and (max-device-width: 1200px) and (orientation: landscape) {\n      .genesys-mxg-engage {\n        width: 380px;\n      }\n    }\n  </style>\n  <iframe\n    allowfullscreen\n    class="genesys-mxg-frame genesys-mxg-responsive"\n    id="genesys-mxg-frame"\n    title="Genesys Messenger"\n    name="Genesys Messenger"\n    width="100%"\n    src="{url}"\n  ></iframe>\n</div>\n'},"./node_modules/axios/index.js":function(e,t,n){e.exports=n("./node_modules/axios/lib/axios.js")},"./node_modules/axios/lib/adapters/xhr.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js"),o=n("./node_modules/axios/lib/core/settle.js"),i=n("./node_modules/axios/lib/helpers/cookies.js"),s=n("./node_modules/axios/lib/helpers/buildURL.js"),a=n("./node_modules/axios/lib/core/buildFullPath.js"),c=n("./node_modules/axios/lib/helpers/parseHeaders.js"),u=n("./node_modules/axios/lib/helpers/isURLSameOrigin.js"),l=n("./node_modules/axios/lib/core/createError.js");e.exports=function(e){return new Promise((function(t,n){var d=e.data,f=e.headers,p=e.responseType;r.isFormData(d)&&delete f["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+g)}var y=a(e.baseURL,e.url);function v(){if(m){var r="getAllResponseHeaders"in m?c(m.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};o(t,n,i),m=null}}if(m.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var b=(e.withCredentials||u(y))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}"setRequestHeader"in m&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),p&&"json"!==p&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){m&&(m.abort(),n(e),m=null)})),d||(d=null),m.send(d)}))}},"./node_modules/axios/lib/axios.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js"),o=n("./node_modules/axios/lib/helpers/bind.js"),i=n("./node_modules/axios/lib/core/Axios.js"),s=n("./node_modules/axios/lib/core/mergeConfig.js");function a(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=a(n("./node_modules/axios/lib/defaults.js"));c.Axios=i,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n("./node_modules/axios/lib/cancel/Cancel.js"),c.CancelToken=n("./node_modules/axios/lib/cancel/CancelToken.js"),c.isCancel=n("./node_modules/axios/lib/cancel/isCancel.js"),c.all=function(e){return Promise.all(e)},c.spread=n("./node_modules/axios/lib/helpers/spread.js"),c.isAxiosError=n("./node_modules/axios/lib/helpers/isAxiosError.js"),e.exports=c,e.exports.default=c},"./node_modules/axios/lib/cancel/Cancel.js":function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},"./node_modules/axios/lib/cancel/CancelToken.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/cancel/Cancel.js");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},"./node_modules/axios/lib/cancel/isCancel.js":function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"./node_modules/axios/lib/core/Axios.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js"),o=n("./node_modules/axios/lib/helpers/buildURL.js"),i=n("./node_modules/axios/lib/core/InterceptorManager.js"),s=n("./node_modules/axios/lib/core/dispatchRequest.js"),a=n("./node_modules/axios/lib/core/mergeConfig.js"),c=n("./node_modules/axios/lib/helpers/validator.js"),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var l=[s,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var d=e;n.length;){var f=n.shift(),p=n.shift();try{d=f(d)}catch(e){p(e);break}}try{o=s(d)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},"./node_modules/axios/lib/core/InterceptorManager.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js");function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},"./node_modules/axios/lib/core/buildFullPath.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/helpers/isAbsoluteURL.js"),o=n("./node_modules/axios/lib/helpers/combineURLs.js");e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},"./node_modules/axios/lib/core/createError.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/core/enhanceError.js");e.exports=function(e,t,n,o,i){var s=new Error(e);return r(s,t,n,o,i)}},"./node_modules/axios/lib/core/dispatchRequest.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js"),o=n("./node_modules/axios/lib/core/transformData.js"),i=n("./node_modules/axios/lib/cancel/isCancel.js"),s=n("./node_modules/axios/lib/defaults.js");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"./node_modules/axios/lib/core/enhanceError.js":function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"./node_modules/axios/lib/core/mergeConfig.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js");e.exports=function(e,t){t=t||{};var n={},o=["url","method","data"],i=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(e[o],t[o])}r.forEach(o,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(i,u),r.forEach(s,(function(o){r.isUndefined(t[o])?r.isUndefined(e[o])||(n[o]=c(void 0,e[o])):n[o]=c(void 0,t[o])})),r.forEach(a,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=o.concat(i).concat(s).concat(a),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(d,u),n}},"./node_modules/axios/lib/core/settle.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/core/createError.js");e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},"./node_modules/axios/lib/core/transformData.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js"),o=n("./node_modules/axios/lib/defaults.js");e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},"./node_modules/axios/lib/defaults.js":function(e,t,n){"use strict";(function(t){var r=n("./node_modules/axios/lib/utils.js"),o=n("./node_modules/axios/lib/helpers/normalizeHeaderName.js"),i=n("./node_modules/axios/lib/core/enhanceError.js"),s={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=n("./node_modules/axios/lib/adapters/xhr.js")),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),JSON.stringify(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(s)})),e.exports=u}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/axios/lib/helpers/bind.js":function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},"./node_modules/axios/lib/helpers/buildURL.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js");function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},"./node_modules/axios/lib/helpers/combineURLs.js":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"./node_modules/axios/lib/helpers/cookies.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./node_modules/axios/lib/helpers/isAbsoluteURL.js":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"./node_modules/axios/lib/helpers/isAxiosError.js":function(e,t,n){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},"./node_modules/axios/lib/helpers/isURLSameOrigin.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"./node_modules/axios/lib/helpers/normalizeHeaderName.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},"./node_modules/axios/lib/helpers/parseHeaders.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/utils.js"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},"./node_modules/axios/lib/helpers/spread.js":function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"./node_modules/axios/lib/helpers/validator.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/package.json"),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},s=r.version.split(".");function a(e,t){for(var n=t?t.split("."):s,r=e.split("."),o=0;o<3;o++){if(n[o]>r[o])return!0;if(n[o]<r[o])return!1}return!1}o.transitional=function(e,t,n){var o=t&&a(t);function s(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(s(r," has been removed in "+t));return o&&!i[r]&&(i[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;o-- >0;){var i=r[o],s=t[i];if(s){var a=e[i],c=void 0===a||s(a,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},"./node_modules/axios/lib/utils.js":function(e,t,n){"use strict";var r=n("./node_modules/axios/lib/helpers/bind.js"),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},"./node_modules/axios/package.json":function(e){e.exports=JSON.parse('{"_args":[["axios@0.21.3","/var/build/workspace/1818088e-4041-4338-942f-982ed1c9bb4e"]],"_from":"axios@0.21.3","_id":"axios@0.21.3","_inBundle":false,"_integrity":"sha512-JtoZ3Ndke/+Iwt5n+BgSli/3idTvpt5OjKyoCmz4LX5+lPiY5l7C1colYezhlxThjNa/NhngCUWZSZFypIFuaA==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.3","name":"axios","escapedName":"axios","rawSpec":"0.21.3","saveSpec":null,"fetchSpec":"0.21.3"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.3.tgz","_spec":"0.21.3","_where":"/var/build/workspace/1818088e-4041-4338-942f-982ed1c9bb4e","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.3"}')},"./node_modules/cross-storage/lib/client.js":function(e,t,n){!function(n){function r(e,t){var n;t=t||{},this._id=r._generateUUID(),this._promise=t.promise||Promise,this._frameId=t.frameId||"CrossStorageClient-"+this._id,this._origin=r._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=t.timeout||5e3,this._listener=null,this._installListener(),t.frameId&&(n=document.getElementById(t.frameId)),n&&this._poll(),n=n||this._createFrame(e),this._hub=n.contentWindow}r.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},r._getOrigin=function(e){var t;return(t=document.createElement("a")).href=e,t.host||(t=window.location),((t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol)+"//"+t.host).replace(/:80$|:443$/,"")},r._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},r.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise((function(t,n){var r=setTimeout((function(){n(new Error("CrossStorageClient could not connect"))}),e._timeout);e._requests.connect.push((function(e){if(clearTimeout(r),e)return n(e);t()}))})))},r.prototype.set=function(e,t){return this._request("set",{key:e,value:t})},r.prototype.get=function(e){var t=Array.prototype.slice.call(arguments);return this._request("get",{keys:t})},r.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},r.prototype.clear=function(){return this._request("clear")},r.prototype.getKeys=function(){return this._request("getKeys")},r.prototype.close=function(){var e=document.getElementById(this._frameId);e&&e.parentNode.removeChild(e),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},r.prototype._installListener=function(){var e=this;this._listener=function(t){var n,r,o;if(!e._closed&&t.data&&"string"==typeof t.data&&("null"===t.origin?"file://":t.origin)===e._origin)if("cross-storage:unavailable"!==t.data){if(-1!==t.data.indexOf("cross-storage:")&&!e._connected){if(e._connected=!0,!e._requests.connect)return;for(n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r);delete e._requests.connect}if("cross-storage:ready"!==t.data){try{o=JSON.parse(t.data)}catch(e){return}o.id&&e._requests[o.id]&&e._requests[o.id](o.error,o.result)}}else{if(e._closed||e.close(),!e._requests.connect)return;for(r=new Error("Closing client. Could not access localStorage in hub."),n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},r.prototype._poll=function(){var e,t,n;n="file://"===(e=this)._origin?"*":e._origin,t=setInterval((function(){if(e._connected)return clearInterval(t);e._hub&&e._hub.postMessage("cross-storage:poll",n)}),1e3)},r.prototype._createFrame=function(e){var t,n;for(n in(t=window.document.createElement("iframe")).id=this._frameId,r.frameStyle)r.frameStyle.hasOwnProperty(n)&&(t.style[n]=r.frameStyle[n]);return window.document.body.appendChild(t),t.src=e,t},r.prototype._request=function(e,t){var n,r;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):((r=this)._count++,n={id:this._id+":"+r._count,method:"cross-storage:"+e,params:t},new this._promise((function(e,t){var o,i,s;o=setTimeout((function(){r._requests[n.id]&&(delete r._requests[n.id],t(new Error("Timeout: could not perform "+n.method)))}),r._timeout),r._requests[n.id]=function(i,s){if(clearTimeout(o),delete r._requests[n.id],i)return t(new Error(i));e(s)},Array.prototype.toJSON&&(i=Array.prototype.toJSON,Array.prototype.toJSON=null),s="file://"===r._origin?"*":r._origin,r._hub.postMessage(JSON.stringify(n),s),i&&(Array.prototype.toJSON=i)})))},e.exports?e.exports=r:t.CrossStorageClient=r}()},"./node_modules/cross-storage/lib/hub.js":function(e,t,n){var r;r={init:function(e){var t=!0;try{window.localStorage||(t=!1)}catch(e){t=!1}if(!t)try{return window.parent.postMessage("cross-storage:unavailable","*")}catch(e){return}r._permissions=e||[],r._installListener(),window.parent.postMessage("cross-storage:ready","*")},_installListener:function(){var e=r._listener;window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)},_listener:function(e){var t,n,o,i,s,a,c;if(t="null"===e.origin?"file://":e.origin,"cross-storage:poll"===e.data)return window.parent.postMessage("cross-storage:ready",e.origin);if("cross-storage:ready"!==e.data){try{o=JSON.parse(e.data)}catch(e){return}if(o&&"string"==typeof o.method&&(i=o.method.split("cross-storage:")[1])){if(r._permitted(t,i))try{a=r["_"+i](o.params)}catch(e){s=e.message}else s="Invalid permissions for "+i;c=JSON.stringify({id:o.id,error:s,result:a}),n="file://"===t?"*":t,window.parent.postMessage(c,n)}}},_permitted:function(e,t){var n,o,i;if(n=["get","set","del","clear","getKeys"],!r._inArray(t,n))return!1;for(o=0;o<r._permissions.length;o++)if((i=r._permissions[o]).origin instanceof RegExp&&i.allow instanceof Array&&i.origin.test(e)&&r._inArray(t,i.allow))return!0;return!1},_set:function(e){window.localStorage.setItem(e.key,e.value)},_get:function(e){var t,n,r,o;for(t=window.localStorage,n=[],r=0;r<e.keys.length;r++){try{o=t.getItem(e.keys[r])}catch(e){o=null}n.push(o)}return n.length>1?n:n[0]},_del:function(e){for(var t=0;t<e.keys.length;t++)window.localStorage.removeItem(e.keys[t])},_clear:function(){window.localStorage.clear()},_getKeys:function(e){var t,n,r;for(r=[],n=window.localStorage.length,t=0;t<n;t++)r.push(window.localStorage.key(t));return r},_inArray:function(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1},_now:function(){return"function"==typeof Date.now?Date.now():(new Date).getTime()}},e.exports?e.exports=r:t.CrossStorageHub=r},"./node_modules/cross-storage/lib/index.js":function(e,t,n){e.exports={CrossStorageClient:n("./node_modules/cross-storage/lib/client.js"),CrossStorageHub:n("./node_modules/cross-storage/lib/hub.js")}},"./node_modules/es6-promise-polyfill/promise.js":function(e,t,n){(function(r){var o;!function(r){var i=r.Promise,s=i&&"resolve"in i&&"reject"in i&&"all"in i&&"race"in i&&function(){var e;return new i((function(t){e=t})),"function"==typeof e}();t?(t.Promise=s?i:j,t.Polyfill=j):void 0===(o=function(){return s?i:j}.call(t,n,t,e))||(e.exports=o);var a=function(){};function c(e){return"[object Array]"===Object.prototype.toString.call(e)}var u,l="undefined"!=typeof setImmediate?setImmediate:setTimeout,d=[];function f(){for(var e=0;e<d.length;e++)d[e][0](d[e][1]);d=[],u=!1}function p(e,t){d.push([e,t]),u||(u=!0,l(f,0))}function m(e){var t=e.owner,n=t.state_,r=t.data_,o=e[n],i=e.then;if("function"==typeof o){n="fulfilled";try{r=o(r)}catch(e){v(i,e)}}h(i,r)||("fulfilled"===n&&g(i,r),"rejected"===n&&v(i,r))}function h(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"==typeof t)){var r=t.then;if("function"==typeof r)return r.call(t,(function(r){n||(n=!0,t!==r?g(e,r):y(e,r))}),(function(t){n||(n=!0,v(e,t))})),!0}}catch(t){return n||v(e,t),!0}return!1}function g(e,t){e!==t&&h(e,t)||y(e,t)}function y(e,t){"pending"===e.state_&&(e.state_="sealed",e.data_=t,p(w,e))}function v(e,t){"pending"===e.state_&&(e.state_="sealed",e.data_=t,p(x,e))}function b(e){var t=e.then_;e.then_=void 0;for(var n=0;n<t.length;n++)m(t[n])}function w(e){e.state_="fulfilled",b(e)}function x(e){e.state_="rejected",b(e)}function j(e){if("function"!=typeof e)throw new TypeError("Promise constructor takes a function argument");if(this instanceof j==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function(e,t){function n(e){v(t,e)}try{e((function(e){g(t,e)}),n)}catch(e){n(e)}}(e,this)}j.prototype={constructor:j,state_:"pending",then_:null,data_:void 0,then:function(e,t){var n={owner:this,then:new this.constructor(a),fulfilled:e,rejected:t};return"fulfilled"===this.state_||"rejected"===this.state_?p(m,n):this.then_.push(n),n.then},catch:function(e){return this.then(null,e)}},j.all=function(e){if(!c(e))throw new TypeError("You must pass an array to Promise.all().");return new this((function(t,n){var r=[],o=0;function i(e){return o++,function(n){r[e]=n,--o||t(r)}}for(var s,a=0;a<e.length;a++)(s=e[a])&&"function"==typeof s.then?s.then(i(a),n):r[a]=s;o||t(r)}))},j.race=function(e){if(!c(e))throw new TypeError("You must pass an array to Promise.race().");return new this((function(t,n){for(var r,o=0;o<e.length;o++)(r=e[o])&&"function"==typeof r.then?r.then(t,n):t(r)}))},j.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this((function(t){t(e)}))},j.reject=function(e){return new this((function(t,n){n(e)}))}}("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/process/browser.js":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||l||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/genesys.js":function(e,t,n){"use strict";n.r(t);n("./includes/cxbus.min.js");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,i="LocalStorage";function s(e){return null==e}function a(e){return Object.assign({},e)}function c(){var e=localStorage.getItem("genesysjs");if(e){var t={};try{t=JSON.parse(e)}catch(e){console.warn("Error parsing JSON",e)}t.cookies&&(i="Cookies")}return i}function u(){var e={},t=!1,n=0;"boolean"==typeof(arguments.length<=0?void 0:arguments[0])&&(t=arguments.length<=0?void 0:arguments[0],n++);for(var r=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t&&"[object Object]"===Object.prototype.toString.call(n["".concat(r)])?"[object Object]"===Object.prototype.toString.call(e["".concat(r)])?e["".concat(r)]=u(!0,e["".concat(r)],n["".concat(r)]):e["".concat(r)]=u(e["".concat(r)],n["".concat(r)]):e[r]=n[r])};n<arguments.length;n++)r(n<0||arguments.length<=n?void 0:arguments[n]);return e}
/*!
 * Cookies Plugin
 * Provides utilities for managing cookies.
 *
 * Originally ported from: https://bitbucket.org/inindca/predictive-engagement-sdk/src/master/src/cookies.js
 */Genesys("registerPlugin","Cookies",(function(e){var t=e.data,n=c();function r(e){return e.split(".").length>=2?".".concat(e):e}function o(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"/",s=[];return s.push("".concat(e,"=").concat(t||!1===t?t:"")),n&&s.push("expires=".concat(n)),o&&s.push("domain=".concat(r(o))),s.push("path=".concat(i)),s.join("; ")}function i(e){var n=t("prefix");return 0===e.indexOf(n)?e:"".concat(n).concat(e)}function a(e){var t=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){var o=n[r].trim();if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}(i(e));return s(t)?null:decodeURIComponent(t)}function u(e,n,r){var s=r||{},a=i(e),c=s.domain||t("domain"),u=null;s.expireInSecs&&(u=new Date(Date.now()+1e3*s.expireInSecs).toGMTString());var d=document.location.hostname.split(".");d.length>2&&l(a,{domain:d.slice(0,d.length).join(".")}),document.cookie=o(a,n,u,c)}function l(e,n){var r=Object.assign({recursive:!0},n||{}),s=i(e),a=r.domain||t("domain");if(!0===r.recursive)for(var c,u=a.split("."),l=u.length-2;l>=1;l--)c=u.slice(l,u.length).join("."),document.cookie=o(s,null,"Thu, 01 Jan 1970 00:00:01 GMT",c);document.cookie=o(s,null,"Thu, 01 Jan 1970 00:00:01 GMT",a)}e.registerCommand("get",(function(e){var t=e.data.name;if(!t)return e.reject(new Error("invalid parameters"));var n=a(t);return e.resolve(n)})),e.registerCommand("set",(function(t){var n=t.data,r=n.name,o=n.value,i=n.domain,s=n.expireInSecs;if(!r||!o)return t.reject(new Error("invalid parameters"));var c=encodeURIComponent(o),l=a(r);u(r,c,{domain:i,expireInSecs:s});var d=a(r);return d!==l&&e.publish("cookieChanged",{name:r,oldValue:l,newValue:d}),d!==c?(console.warn("failed to set cookie",t.data),t.reject(new Error("could not set cookie ".concat(r)))):t.resolve(d)})),e.registerCommand("remove",(function(t){var n=t.data,r=n.name,o=n.domain,i=n.recursive;if(!r)return t.reject(new Error("invalid parameter"));var s=a(r);return l(r,{domain:o,recursive:i}),e.publish("cookieChanged",{name:r,oldValue:s,newValue:null}),t.resolve()})),e.registerEvents(["cookieChanged"]),"Cookies"===n&&function(r){var o=r||{};t("prefix","string"==typeof o.prefix?o.prefix:"_");var i=o.domain||function(e){var t,n=e.split(".");if(n.length<=2)return e;for(var r=n.length-2;r>=0&&(u("genesysJsCanary","(^_^)",{domain:t=n.slice(r,n.length).join(".")}),"(^_^)"!==a("genesysJsCanary"));r--);return l("genesysJsCanary",{domain:t}),t}(document.location.hostname);0===i.indexOf("www.")&&(i=i.slice(4)),t("domain",i),"Cookies"===n&&e.ready()}()}));n("./node_modules/cross-storage/lib/index.js");
/*!
 * Local storage plugin
 * Provides utilities that manages both first party and cross domain local storage.
 */Genesys("registerPlugin","LocalStorage",(function(e){var t=c(),n=["Identifiers","Journey","Engage","Launcher","MessagingService","Cookies","GenesysJS","Messenger","Auth","LocalStorageTest"];function r(e){return"".concat("_").concat(e)}function o(t,n,r){var o={};if(t&&"string"==typeof t){try{o=JSON.parse(t)}catch(t){e.log("Error parsing local storage data",t)}var i=o,s=i.value,c=i.ttl;c&&Date.now()>c?a(n).then((function(){e.publish("expired",{name:n}),r()})):r(s)}else r()}function i(e){return new Promise((function(t,n){var i=r(e);window.localStorage?o(localStorage.getItem(i),e,t):n("Your browser does not support localStorage")}))}function s(e,t,n){var o=n.expireInSecs;return new Promise((function(n,i){var s=null,a=r(e);o&&(s=Date.now()+1e3*o),window.localStorage?(localStorage.setItem(a,JSON.stringify({value:t,ttl:s})),n()):i("Your browser does not support localStorage")}))}function a(e){return new Promise((function(t,n){var o=r(e);window.localStorage?(localStorage.removeItem(o),t()):n("Your browser does not support localStorage")}))}e.registerCommand("get",(function(e){var t=e.data,r=t.name,o=t.names;if(e&&e.commander&&-1===n.indexOf(e.commander))return e.reject("".concat(e.commander," plugin does not have permission to access LocalStorage plugin"));if(!r&&!o)return e.reject(new Error("invalid parameters"));if(o&&Array.isArray(o)){var s={};o.forEach((function(t,n){i(t).then((function(r){if(s[t]=decodeURIComponent(r),n===o.length-1)return e.resolve(s)}))}))}else i(r).then((function(t){return t?e.resolve(decodeURIComponent(t)):e.resolve("".concat(r," not found"))})).catch((function(){return e.resolve("".concat(r," not found"))}))})),e.registerCommand("set",(function(t){var r=t.data,o=r.name,a=r.value,c=r.expireInSecs;if(t&&t.commander&&-1===n.indexOf(t.commander))return t.reject("".concat(t.commander," plugin does not have permission to access LocalStorage plugin"));o&&a||t.reject(new Error("invalid parameters"));var u=encodeURIComponent(a),l="";i(o).then((function(n){n?(l=n,s(o,u,{expireInSecs:c}).then((function(){var n="";i(o).then((function(r){return(n=r)!==l&&e.publish("localStorageChanged",{name:o,oldValue:l,newValue:n}),t.resolve(n)})).catch((function(){}))})).catch((function(){t.reject("could not set localstorage ".concat(o))}))):s(o,u,{expireInSecs:c}).then((function(){return e.publish("localStorageSet",{name:o,encodedValue:u}),t.resolve(u)}))}))})),e.registerCommand("remove",(function(t){var r=t.data.name;return t&&t.commander&&-1===n.indexOf(t.commander)?t.reject("".concat(t.commander," plugin doesn't have permission to access LocalStorage plugin")):r?void i(r).then((function(n){if(!n)return t.resolve();var o=n;a(r).then((function(){e.publish("localStorageChanged",{name:r,oldValue:o,newValue:null}),e.publish("localStorageRemoved",{name:r}),t.resolve()})).catch((function(){t.reject("could not remove ".concat(r," from the localstorage"))}))})):t.reject("invalid options")})),"LocalStorage"===t&&e.ready()}));var l=n("./node_modules/axios/index.js"),d=n.n(l);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Auth Plugin
 * @version: 0.1.0
 * @license: Genesys Telecom Labs
 */Genesys("registerPlugin","Auth",(function(e){var t=c(),n="",r="",o=!1,i=e.data;function s(n){n&&(i("jwt",n),e.command("".concat(t,".set"),{name:"gcatkn",value:n}))}function a(){i("jwt",void 0),e.command("".concat(t,".remove"),{name:"gcatkn"}),i("refreshToken",void 0),e.command("".concat(t,".remove"),{name:"gcartkn"})}function l(t,n){var r=t||{},o=r.status,s=r.data;if(o)switch(o){case 401:case 403:i("refreshToken")?e.command("refreshToken").then((function(t){(t||{}).jwt?e.command("logout").then((function(e){n.resolve(e)})).catch((function(e){m(e),n.reject(e)})):(m(t),n.reject(t))}),(function(e){m(e),n.reject(e)})).catch((function(e){m(e),n.reject(e)})):(m(s),n.reject(s));break;default:m(s),n.reject(s)}else m(s),n.reject(s)}function m(t){var n=t||{},r=n.status,s=n.statusText,c=n.data;o=!1,i("authenticated",!1),a(),e.command("MessagingService.logout"),e.command("Launcher.hide"),e.publish("logoutError",{status:r,statusText:s,data:c})}i("authId",void 0),i("jwt",void 0),i("refreshToken",void 0),i("authenticated",!1),i("journeyContext",void 0),e.command("Identifiers.getJourneyContext").then((function(e){var t=e.customer,n=e.customerSession;if(t&&Object.keys(t).length&&n&&Object.keys(n).length){var r=i("journeyContext");i("journeyContext",u(!0,r,e))}})),e.command("".concat(t,".get"),{names:["gcatkn","gcartkn"]}).then((function(e){e.gcatkn&&"undefined"!==e.gcatkn&&(i("jwt",e.gcatkn),i("authenticated",!0)),e.gcartkn&&"undefined"!==e.gcartkn&&i("refreshToken",e.gcartkn)})),e.registerCommand("getTokens",(function(o){var c=o.data||{},u=c.deploymentConfig,l=c.snippetConfig,f=(u||{}).apiEndpoint,p=(l||{}).deploymentId;f&&(n=f),p&&(r=p),e.command("AuthProvider.getAuthCode",o.data).then((function(c){var u=c||{},l=u.authCode,f=u.redirectUri;l&&f?(i("authId",l),e.publish("authenticating",{authCode:l,redirectUri:f}),n&&r?d()({url:"".concat(n,"/api/v2/webdeployments/token/oauthcodegrantjwtexchange"),method:"post",responseType:"json",data:{deploymentId:r,oauth:{code:l,redirectUri:f},journeyContext:i("journeyContext")||{}}}).then((function(n){var r=n&&n.data||{},a=r.jwt,c=r.refreshToken;a?(i("authenticated",!0),s(a),function(n){n&&(i("refreshToken",n),e.command("".concat(t,".set"),{name:"gcartkn",value:n}))}(c),e.publish("authenticated",{jwt:a,refreshToken:c}),o.resolve({jwt:a,refreshToken:c})):(i("authenticated",!1),e.publish("tokenError",JSON.parse({response:n})),o.reject("Invalid or no token received"))}),(function(t){var n=(t.response||{}).data;i("authenticated",!1),e.publish("error",n||{});var r=(t&&t.response||{}).status;if(r)switch(r){case 401:case 403:a(),e.command("AuthProvider.reAuthenticate").then((function(e){o.resolve(e)}));break;case 504:e.command("getTokens")}o.reject("Unable to fetch authentication token")})):o.reject("No configuration available")):(e.publish("authError",c),o.resolve())}),(function(t){var n=(t.response||{}).data;e.publish("authProviderError",n||{}),o.reject("Unable to get Authorization code")}))})),e.registerCommand("logout",(function(t){var r=(t.data||{}).forceClearCache;o=!0,i("authenticated")?(e.command("Messenger.close"),r&&(i("authenticated",!1),a()),d()({url:"".concat(n,"/api/v2/webdeployments/token/revoke"),method:"delete",headers:{Authorization:"Bearer ".concat(i("jwt"))}}).then((function(n){200===(n||{}).status?(!function(t){var n=t||{},r=n.status,s=n.statusText,c=n.data;o=!1,i("authenticated",!1),a(),e.command("MessagingService.logout"),e.command("Launcher.hide"),e.publish("loggedOut",{status:r,statusText:s,data:c})}(n),t.resolve(JSON.parse(JSON.stringify({status:n.status||"",statusText:n.statusText||"",data:n.data||""})))):l(n,t)}),(function(e){l(e.response,t)})).catch((function(e){l(e.response,t)}))):t.reject("user is not authenticated")})),e.registerCommand("refreshToken",(function(t){i("refreshToken")?d()({url:"".concat(n,"/api/v2/webdeployments/token/refresh"),method:"post",responseType:"json",data:{refreshToken:i("refreshToken")}}).then((function(n){var r=(n&&n.data||{}).jwt;r?(i("authenticated",!0),s(r),e.publish("authenticated",{jwt:r}),t.resolve(n.data)):(i("authenticated",!1),e.publish("tokenError",n),t.reject("Invalid or no token received"))})).catch((function(n){var r=(n.response||{}).data;i("authenticated",!1),e.publish("error",r||{});var s=(n&&n.response||{}).status;if(o)o=!1,t.reject("Unable to fetch authentication token for logout");else if(s)switch(s){case 400:case 401:case 403:a(),e.command("AuthProvider.reAuthenticate").then((function(){e.command("getTokens").then((function(e){t.resolve(e)}))}));break;case 504:e.command("refreshToken")}t.reject("Unable to fetch authentication token")})):(a(),e.command("getTokens",{forceUpdate:!0}).then((function(e){t.resolve(e)})).catch((function(){i("authenticated",!1),t.reject("Unable to get tokens")})))})),e.registerCommand("configure",(function(e){var t=e.data||{},o=t.deploymentConfig,i=t.snippetConfig,s=(o||{}).apiEndpoint,a=(i||{}).deploymentId;s&&a?(n=s,r=a,e.resolve()):e.reject()})),e.registerCommand("reAuthenticate",(function(t){a(),e.command("AuthProvider.reAuthenticate").then((function(){e.command("getTokens").then((function(e){t.resolve(e)}))}))})),e.subscribe("data.authenticated",(function(){e.publish("changed",{authenticated:i("authenticated"),jwt:i("jwt"),refreshToken:i("refreshToken")})})),e.subscribe("Journey.qualifiedWebMessagingOffer",(function(e){var t=e.data.journeyContext,n=i("journeyContext");t&&Object.keys(t).length&&i("journeyContext",u(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),{triggeringAction:t.triggeringAction}))})),e.subscribe("AuthProvider.ready",(function(){e.ready()}))}));var m="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),h=new Uint8Array(16);function g(){if(!m)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(h)}var y=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var v=function(e){return"string"==typeof e&&y.test(e)},b=[],w=0;w<256;++w)b.push((w+256).toString(16).substr(1));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]).toLowerCase();if(!v(n))throw TypeError("Stringified UUID is invalid");return n};var j,S=function(e,t,n){var r=(e=e||{}).random||(e.rng||g)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return x(r)},_=n("./node_modules/es6-promise-polyfill/promise.js");function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
* Identifiers Plugin
* Manages stable identifiers related to the end-customer.
*
* Originally ported from: https://bitbucket.org/inindca/predictive-engagement-sdk/src/master/src/cookies.js
*/var k=/^\d+\.\d+\.\d+$/,I=(E(j={},"CUSTOMER_ID",{name:"actmu",description:"Stable identifier of an anonymous end-customer."}),E(j,"SESSION_ID",{name:"actms",description:"Identifier of the current web session."}),E(j,"SESSION_TS",{name:"actts",description:"First, previous and current session start timestamps. [first.previous.current]"}),E(j,"SESSION_COUNT",{name:"actvc",description:"The total number of sessions."}),j);Genesys("registerPlugin","Identifiers",(function(e){var t=e.data,n=c();function r(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.name=I[r].name,e.command("".concat(n,".").concat(t),o)}function i(e){return!s(e)&&("string"==typeof(t=e)&&o.test(t));var t}function u(n){var o,s,c=n||{},u=c.forceNewCustomer,d=void 0!==u&&u,f=c.forceNewSession,p=void 0!==f&&f,m=c.touchDisabled,h=void 0!==m&&m,g=c.createDisabled,y=void 0!==g&&g,v=!1,b=!1,w=t("Cookies.domain");return r("get","CUSTOMER_ID").then((function(e){return y?o=i(e)?e:null:(b=d||!i(e),o=b?S():e),h&&!b||!i(o)?_.Promise.resolve():r("set","CUSTOMER_ID",{value:o,domain:w,expireInSecs:t("customerIdExpiryTime")})})).then((function(){return r("get","SESSION_ID")})).then((function(e){return i(o)?(y?s=i(e)?e:null:(v=p||b||!i(e),s=v?S():e),h&&!v||!i(s)?_.Promise.resolve():r("set","SESSION_ID",{value:s,domain:w,expireInSecs:t("sessionIdExpiryTime")})):(s=null,r("remove","SESSION_ID"))})).then((function(){return v?_.Promise.all([r("get","SESSION_TS"),r("get","SESSION_COUNT")]).then((function(e){var n,o,i,s=C(e,2),a=s[0],c=s[1],u=Math.ceil(Date.now()/1e3),d=parseInt(c,10)||0;if(b)n=u,o=u,i=u,d=1;else{var f=l(a);n=f.first,o=f.previous,o=i=f.current,i=u,d++}return _.Promise.all([r("set","SESSION_TS",{value:"".concat(n,".").concat(o,".").concat(i),domain:t("Cookies.domain"),expireInSecs:t("customerIdExpiryTime")}),r("set","SESSION_COUNT",{value:d,domain:t("Cookies.domain"),expireInSecs:t("customerIdExpiryTime")})])})):_.Promise.resolve()})).then((function(){var t={customerId:o,sessionId:s};return v&&e.publish("newSessionId",a(t)),b&&e.publish("newCustomerId",a(t)),t}))}function l(e){var t=Math.ceil(Date.now()/1e3),n=t,r=t,o=t;if(e&&k.test(e)){var i=C(e.split(".").map((function(e){return parseInt(e,10)||0})),3);n=i[0],r=i[1],o=i[2]}return{first:n,previous:r,current:o}}e.registerCommand("getSessionId",(function(e){return u().then((function(t){var n=t.sessionId;return e.resolve(n)})).catch(e.reject)})),e.registerCommand("getCustomerId",(function(e){return u().then((function(t){var n=t.customerId;return e.resolve(n)})).catch(e.reject)})),e.registerCommand("getAll",(function(e){return u(e.data).then(e.resolve).catch(e.reject)})),e.registerCommand("getSessionTimestamps",(function(e){return r("get","SESSION_TS").then((function(e){return l(e)})).then(e.resolve).catch(e.reject)})),e.registerCommand("getSessionCount",(function(e){return r("get","SESSION_COUNT").then(e.resolve).catch(e.reject)})),e.registerCommand("getJourneyContext",(function(e){return u(e.data).then((function(t){var n=t.customerId,r=t.sessionId;return e.resolve({customer:{id:n,idType:"cookie"},customerSession:{id:r,type:"web"}})})).catch(e.reject)})),e.registerCommand("purgeAll",(function(t){return _.Promise.all([r("remove","CUSTOMER_ID"),r("remove","SESSION_ID"),r("remove","SESSION_TS"),r("remove","SESSION_COUNT")]).then((function(){return e.publish("identifiersPurged"),t.resolve()})).catch(t.reject)})),e.registerEvents(["newSessionId","newCustomerId","identifiersPurged"]),e.subscribe("".concat(n,".ready"),(function(){!function(e){var o=e||{};t("customerIdExpiryTime",o.customerIdExpiryTime||31536e3),t("sessionIdExpiryTime",Math.min(t("customerIdExpiryTime"),o.sessionIdExpiryTime||1800));var i=t("Cookies.domain"),s="www.".concat(i);"Cookies"===n&&(r("remove","CUSTOMER_ID",{domain:s,recursive:!1}),r("remove","SESSION_ID",{domain:s,recursive:!1}))}(),e.ready()}))}));var T=n("./includes/messengerHelper.html"),P=n.n(T);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Genesys("registerPlugin","MessengerHelper",(function(e){var t=e.data,n=!1;t("iFrameLoaded",!1);var o=P.a,i="",s="",a={height:0,width:0},c={height:0,width:0};e.subscribe("ServiceDiscovery.ready",(function(){var t=window._webMessVersion?"/".concat(window._webMessVersion):"",n="".concat(e.data("ServiceDiscovery.uris.staticAssets"),"/messenger").concat(t,"/messenger.html");o=o.replace("{url}",n)})),e.registerCommand("open",(function(n){if(t("iFrameLoaded"))n.reject("Messenger iframe is already open");else{document.body.appendChild(function(e){if(function(){if(!window.DOMParser)return!1;var e=new DOMParser;try{e.parseFromString("x","text/html")}catch(e){return!1}return!0}())return(new DOMParser).parseFromString(e,"text/html").body.firstChild;var t=document.createElement("div");return t.innerHTML=e,t}(o));var r=((n.data||{}).messenger||{}).preview,i=e.data("GenesysJS.deploymentConfig")||{},s=e.data("GenesysJS.snippetConfig")||{};r||e.subscribe("Messenger.ready",(function(){e.command("Messenger.configure",{snippetConfig:s,deploymentConfig:i,deploymentId:s.deploymentId,config:i.messenger})})),t("iFrameLoaded",!0),n.resolve()}})),e.registerCommand("setDimension",(function(e){var t=document.getElementById("genesys-mxg-frame"),n=e.data,r=n.engage,o=n.launcher,i=n.conversations,s=0,u=0;if(o){var l=o.width;u+=o.height,s+=l,a.height=u,a.width=s}else u=a.height,s=a.width;if(r){var d=r.width;u+=r.height,s=d||s,c.height&&(u=c.height),c.width&&(s=c.width)}if(i){var f=function(e,t,n,r){var o=e.width,i=e.height,s=e.addClass,a=e.removeClass,c=n,u=r;return"string"==typeof i&&(c="calc(".concat(i," + ").concat(c,"px)")),"number"==typeof i&&(c+=i),t&&s&&s.map((function(e){return t.classList.add(e)})),t&&a&&a.map((function(e){return t.classList.remove(e)})),{iHeight:c,iWidth:u=o||u}}(i,t,u,s);u=f.iHeight,s=f.iWidth,c.height=u,c.width=s}else c.height=0,c.width=0;t?(!function(e,t,n){"number"==typeof t&&e.style.setProperty("width","".concat(t,"px"),t>72?"":"important"),"number"==typeof n&&e.style.setProperty("height","".concat(n,"px"),"important"),"string"==typeof n&&(e.style.height=n)}(t,s,u),e.resolve()):e.reject("No styles or className provided for Messenger iFrame")})),e.registerCommand("setDirection",(function(e){var t=document.getElementById("genesys-mxg-frame"),n=e.data.direction;t&&n?"rtl"===n?(t.style.left="20px",t.classList.add("genesys-mxg-responsive-left"),e.resolve()):"ltr"===n&&(t.style.left="unset",t.classList.remove("genesys-mxg-responsive-left"),e.resolve()):e.reject("No styles or direction provided for Messenger iFrame")})),e.registerCommand("openWebSocket",(function(t){function o(){e.command("GenesysVendors.WebSocket").then((function(n){var o=(t.data||{}).endPoint;i&&i.removeAllListeners(),(i=new n(o)).open().then((function(n){i&&(i.onMessage.addListener((function(t){e.publish("onWebSocketMessage",JSON.parse(t))})),i.onClose.addListener((function(t){e.publish("onWebSocketClose",{code:t.code,reason:t.reason,returnValue:t.returnValue,timeStamp:t.timeStamp,type:t.type,wasClean:t.wasClean})})),i.onError.addListener((function(t){e.publish("onWebSocketError",JSON.parse({error:t}))})));var o=function e(t){var n={};for(var o in t)if(o&&"object"===r(t["".concat(o)])&&null!==t["".concat(o)])n["".concat(o)]=e(t["".concat(o)]);else{if(!o||"string"!=typeof t["".concat(o)])return;n["".concat(o)]=t["".concat(o)]}return n}(n);t.resolve(o)})).catch((function(e){t.reject(e)}))})).catch((function(e){var n=e.error;t.reject(n)}))}t&&"MessagingService"===t.commander?n?o():Genesys("loadPlugin","GenesysVendors",{},(function(){n=!0,o()})):t.reject("Unauthorized Access! Only MessagingService plugin is allowed to access this command.")})),e.registerCommand("closeWebSocket",(function(e){if(e&&"MessagingService"===e.commander){var t=e.data||{},n=t.code,r=t.reason;i&&i.close&&(n?i.close(n,r).catch((function(){})):i.close().catch((function(){})))}else e.reject("Unauthorized Access! Only MessagingService plugin is allowed to access this command.")})),e.registerCommand("sendOverSocket",(function(e){e&&"MessagingService"===e.commander?(i.send(JSON.stringify(e.data||{})),e.resolve()):e.reject("Unauthorized Access! Only MessagingService plugin is allowed to access this command.")})),e.registerCommand("getWebSocketData",(function(e){i?e.resolve({isClosed:i.isClosed,isOpened:i.isOpened,isClosing:i.isClosing}):e.reject("No WebSocket connection available.")})),e.registerCommand("makeRequest",(function(t){var r=t.data||{},o=r.url,i=r.method,s=r.responseType,a=r.headers,c=N(r,["url","method","responseType","headers"]);function u(){e.command("GenesysVendors.Axios").then((function(e){e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:o,method:i,responseType:s||"json",headers:a},c)).then((function(e){t.resolve({data:e.data,headers:e.headers,status:e.status,statusText:e.statusText})}),(function(e){var n=e&&e.response?e.response:e;t.reject(JSON.parse(JSON.stringify(n||{})))})).catch((function(e){t.reject(JSON.parse(JSON.stringify(e||{})))}))})).catch((function(e){var n=e.error;t.reject(JSON.parse(JSON.stringify(n||{})))}))}t&&"MessagingService"===t.commander?n?u():Genesys("loadPlugin","GenesysVendors",{},(function(){n=!0,u()})):t.reject("Unauthorized Access! Only MessagingService plugin is allowed to access this command.")})),e.registerCommand("uploadRequest",(function(t){var r=t.data||{},o=r.url,i=r.headers,a=r.data;function c(){e.command("GenesysVendors.Axios").then((function(n){var r=n.CancelToken;s=r.source(),n.put(o,a,{headers:i,onUploadProgress:function(t){var n=t.loaded,r=t.total,o=Math.floor(100*n/r);e.publish("uploadProgress",{percentage:o,loaded:n,total:r})},cancelToken:s.token}).then((function(e){t.resolve({data:e.data,headers:e.headers,status:e.status,statusText:e.statusText})}),(function(e){t.reject(JSON.parse(JSON.stringify(e||{})))})).catch((function(e){t.reject(JSON.parse(JSON.stringify(e||{})))}))}))}t&&"MessagingService"===t.commander?n?c():Genesys("loadPlugin","GenesysVendors",{},(function(){n=!0,c()})):t.reject("Unauthorized Access! Only MessagingService plugin is allowed to access this command.")})),e.registerCommand("cancelRequest",(function(e){e&&"MessagingService"===e.commander?s&&(s.cancel(),s="",e.resolve()):e.reject("Unauthorized Access! Only MessagingService plugin is allowed to access this command.")})),e.ready()})),Genesys("registerPlugin","Database",(function(e){var t=e.data,n=!1;function r(e){return null!==e&&"object"===M(e)&&!Array.isArray(e)&&Object.keys(e).length}function o(e,t){for(var n=t,r=e,o=(n=(n=n.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,s=o.length;i<s;++i){var a=o["".concat(i)];if(!(a&&r&&"object"===M(r)&&a in r))return null;r=r["".concat(a)]}return r}function i(e){return new Promise((function(t,r){if(!n&&e){var o=!1;for(var i in e)null!==e["".concat(i)]&&"object"===M(e["".concat(i)])?(o=!1,r("Nested object is not supported for custom attributes")):o=!0;o&&t(o)}else t(!0)}))}t("database",{}),e.registerCommand("set",(function(n){if(r(n.data)){var o=(n.data||{}).messaging,s=t("database");if(r(o)){var a=(o||{}).customAttributes;if(r(a))i(a).then((function(){var r=u(s,n.data);t("database",r),e.publish("updated",r),n.resolve(r)})).catch((function(e){n.reject(e)}));else if("object"!==M(a)||Array.isArray(a))n.reject("Custom attributes must be an object");else{var c=u(s,n.data);t("database",c),e.publish("updated",c),n.resolve(c)}}else if("object"!==M(o)||Array.isArray(o))n.reject("Messaging property must be an object");else{var l=u(s,n.data);t("database",l),e.publish("updated",l),n.resolve(l)}}else n.reject("Invalid option")})),e.registerCommand("update",(function(n){if(r(n.data)){var o=(n.data||{}).messaging,s=t("database");if(r(o)){var a=(o||{}).customAttributes;if(r(a))i(a).then((function(){var r=u(!0,s,n.data);t("database",r),e.publish("updated",r),n.resolve(r)})).catch((function(e){n.reject(e)}));else if("object"!==M(a)||Array.isArray(a))n.reject("Custom attributes must be an object");else{var c=u(!0,s,n.data);t("database",c),e.publish("updated",c),n.resolve(c)}}else if("object"!==M(o)||Array.isArray(o))n.reject("Messaging property must be an object");else{var l=u(!0,s,n.data);t("database",l),e.publish("updated",l),n.resolve(l)}}else n.reject("Invalid option")})),e.registerCommand("get",(function(e){var n=t("database");if(r(e.data)){var i=(e.data||"").name;if(i&&"string"==typeof i){var s=i.split("."),a=s&&s.reduce((function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)?e["".concat(t)]:o(e,t)}),n);null!==a?e.resolve(a):e.reject("Property name does not exists")}else e.reject("Invalid option")}else e.resolve(n)})),e.registerCommand("remove",(function(n){var i=t("database");if(r(n.data)){var s=(n.data||"").name;if(s&&"string"==typeof s){var a=s.split(".");null!==(a&&a.reduce((function(e,t,n){if(e&&Object.prototype.hasOwnProperty.call(e,t))return n===a.length-1?(delete e["".concat(t)],i):e["".concat(t)];if(t.match(/\[(\w+)\]/g)){var r=t,s=(r=(r=r.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");return n===a.length-1?Object.prototype.hasOwnProperty.call(e,s[0])&&Array.isArray(e["".concat(s[0])])&&s[1]<e["".concat(s[0])].length?(e["".concat(s[0])].splice(s[1],1),i):null:o(e,t)}return null}),i))?(t("database",i),e.publish("removed"),n.resolve()):n.reject("Property name does not exists")}else n.reject("Invalid option")}else n.reject("Property name is mandatory")})),e.registerCommand("configure",(function(e){var t=e.data.enableNestedObject;"boolean"==typeof t&&(n=t),e.resolve()})),e.ready()}));var L,U=
/*!
* Domain Check
* Compares the a given domain name against a list of allowed domains from squonk.
*/
function(e,t){if(!e||!t||""===t)return!1;var n=e.allowedDomains&&Array.isArray(e.allowedDomains)?e.allowedDomains:[],r=t.toLowerCase();return!0===e.allowAllDomains||0!==n.length&&(n.length>0&&n.some((function(e){var t=e.toLowerCase();return t===r||(r.length>t.length&&r.slice(-".".concat(t).length)===".".concat(t)||void 0)})))};function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}
/*!
 * Service Discovery
 * Resolves URIs and domains for the current env
*/var q="test",G="apne1",B="apne2",H="apse2",F="cac1",V="euc1",z="euw1",X="euw2",W="use1",$="usw2",Y="aps1",K="fedramp-use2",Q="maximus-use2",Z=(J(L={},"dev","inindca.com"),J(L,q,"inintca.com"),J(L,G,"mypurecloud.jp"),J(L,B,"apne2.pure.cloud"),J(L,H,"mypurecloud.com.au"),J(L,F,"cac1.pure.cloud"),J(L,V,"mypurecloud.de"),J(L,z,"mypurecloud.ie"),J(L,X,"euw2.pure.cloud"),J(L,W,"mypurecloud.com"),J(L,$,"usw2.pure.cloud"),J(L,Y,"aps1.pure.cloud"),J(L,K,"use2.us-gov-pure.cloud"),J(L,Q,"use2.maximus-pure.cloud"),L),ee={staticAssets:{subdomain:"apps"},configs:{subdomain:"api-cdn",path:"/webdeployments/v1/deployments"},journeyPlugin:{subdomain:"apps",path:"/journey/messenger-plugins/journey.min.js"},offersHelper:{subdomain:"apps",path:"/journey/messenger-plugins/offersHelper.min.js"},cobrowsePlugin:{subdomain:"apps",path:"/cobrowse-next/sharer.min.js"},vendorsPlugin:{subdomain:"apps",path:"/genesys-bootstrap/plugins/genesysvendors.min.js"}},te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Z[t];if(!n)throw new Error("invalid environment ".concat(t));this.environment=t,this.domain=n}var t,n,r;return t=e,(n=[{key:"getUri",value:function(e){var t=ee[e];if(t){var n=t.protocol,r=void 0===n?"https:":n,o=t.subdomain,i=t.path;return"".concat(r,"//").concat(o,".").concat(this.domain).concat(i||"")}}},{key:"getDomain",value:function(e){var t=ee[e];if(t){var n=t.subdomain;return"".concat(n,".").concat(this.domain)}}},{key:"resolveAllServices",value:function(){var e={};for(var t in ee)if(Object.prototype.hasOwnProperty.call(ee,t)){var n=this.getUri(t),r=this.getDomain(t);e[t]={uri:n,domain:r}}return e}}])&&R(t.prototype,n),r&&R(t,r),e}();J(te,"SERVICES",ee);var ne=te;var re={register:function(e){Genesys("registerPlugin","ServiceDiscovery",(function(t){!function(e,t){var n=t.data,r=e.resolveAllServices();for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n("domains.".concat(o),r[o].domain),n("uris.".concat(o),r[o].uri))}(e,t),t.ready()}))}};var oe=function(e,t){!0===(e.deploymentConfig.messenger||{}).enabled&&(t.log("Messenger enabled. Loading MessengerHelper plugin."),t.subscribe("MessengerHelper.ready",(function(){t.command("MessengerHelper.open",e.deploymentConfig)})))};var ie=function(e,t){!0===(e.deploymentConfig.journeyEvents||{}).enabled&&(t.log("JourneyEvents enabled. Loading Journey plugin."),Genesys("loadPlugin","Journey",Object.assign({},e,{apiEndpoint:e.deploymentConfig.apiEndpoint,deploymentId:e.snippetConfig.deploymentId})))};var se=function(e,t){!0===(e.deploymentConfig.cobrowse||{}).enabled&&(t.log("Cobrowse enabled. Loading CobrowseNext plugin."),Genesys("loadPlugin","CobrowseNext"))};var ae=function(e,t){var n=e.deploymentConfig.auth||{};n&&!0===n.enabled&&(t.log("Authentication enabled. Loading Auth plugin."),t.subscribe("Auth.ready",(function(){t.command("Auth.configure",e)})))};function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
* %productTitle%
* @version: %updateVersion%
* @license: %copyright%
*/var ue,le=Genesys.c||{},de=le.environment,fe=le.deploymentId,pe=le.preview,me=le.debug,he=le.debugConfig,ge=le.debugConfigURL;if(!(de&&fe||pe))throw new Error("GenesysJS requires a deploymentId and environment to load.");try{ue=new ne(de)}catch(e){throw new Error("GenesysJS could not initialise service discovery.",e)}Genesys("configure",{pluginsPath:"".concat(ue.getUri("staticAssets"),"/genesys-bootstrap/plugins/"),pluginmap:{Journey:ue.getUri("journeyPlugin"),OffersHelper:ue.getUri("offersHelper"),CobrowseNext:ue.getUri("cobrowsePlugin"),GenesysVendors:ue.getUri("vendorsPlugin")},childDomain:ue.getUri("staticAssets"),debug:!!me}),re.register(ue),Genesys("registerPlugin","GenesysJS",(function(e){var t=e.data,n=!1;function r(t){n=!0;try{oe(t,e)}catch(t){e.log("Error loading the plugin",t)}try{ie(t,e)}catch(t){e.log("Error loading the plugin",t)}try{se(t,e)}catch(t){e.log("Error loading the plugin",t)}try{ae(t,e)}catch(t){e.log("Error loading the plugin",t)}try{!function(e,t){t.log("Loading OffersHelper plugin"),Genesys("loadPlugin","OffersHelper")}(0,e)}catch(t){e.log("Error loading the offers plugin",t)}}t("snippetConfig",le),e.registerCommand("getConfig",(function(n){if("GenesysJS"===n.commander){if(!0===me){if("object"===ce(he))return t("deploymentConfig",he),void n.resolve(he);if("string"==typeof ge)return void Genesys("loadJSON",ge,(function(e){var r=JSON.parse(e);t("deploymentConfig",r),n.resolve(r)}))}Genesys("loadJSON","".concat(ue.getUri("configs"),"/").concat(fe,"/domains.json"),(function(r){try{var o=JSON.parse(r);t("domains",o),e.publish("domainsReceived"),U(o,document.location.hostname)?Genesys("loadJSON","".concat(ue.getUri("configs"),"/").concat(fe,"/config.json"),(function(e){try{var r=JSON.parse(e);t("deploymentConfig",r),n.resolve(r)}catch(e){throw n.reject("Malformed JSON received.",e),new Error(e)}}),(function(e){n.reject("Could not retrieve deployment config.",e)})):e.publish("domainNotAllowed")}catch(e){throw n.reject("Malformed JSON received.",e),new Error(e)}}))}else n.reject("You are not allowed to call this command.")})),e.registerCommand("init",(function(e){if(n)e.reject("GenesysJS products are already initialized.");else{var o={deploymentConfig:t("deploymentConfig"),snippetConfig:t("snippetConfig")};o&&o.deploymentConfig?(r(o),e.resolve()):e.reject("Initializing GenesysJS requires configuration.")}})),pe?(oe({deploymentConfig:{messenger:{enabled:!0,preview:!0}}},e),e.ready(),Genesys("executeQueue")):e.command("getConfig").then((function(t){e.log("Configuration Received",t);var n={deploymentConfig:t,snippetConfig:le},o=n.deploymentConfig,i=o.status,s=(o.auth||{}).enabled;(e.republish("configurationReceived",n),i&&"Active"===i)&&(s&&!0===s?e.data("Auth.jwt")?r(n):e.subscribe("Auth.ready",(function(){e.command("Auth.getTokens",n).then((function(t){(t||{}).jwt?r(n):e.log("Authentication plugin is ready. Tokens are not available yet.")}),(function(){e.log("Authentication plugin is ready. Tokens are not available yet.")})).catch((function(){}))})):r(n));e.ready(),Genesys("executeQueue")}),(function(){e.ready(),Genesys("executeQueue")}))}))}});