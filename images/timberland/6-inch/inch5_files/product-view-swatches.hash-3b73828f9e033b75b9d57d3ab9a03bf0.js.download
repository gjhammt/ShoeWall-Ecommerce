define(["jquery","wcs.product-views-util"],function(f,l){var g=null,p=null;function t(){var o=0;if(f(".show-more-js").hasClass("expanded"))return!1;f(".collapsable-container-js").not(f(".stl-product-grid-product-js .collapsable-container-js")).find(".attr-box").each(function(t){if(o+=f(this).outerWidth(!0),f(this).hasClass("selected"))return!1}),(o>f(".collapsable-container-js").not(f(".stl-product-grid-product-js .collapsable-container-js")).width()||!0===WCS_CONFIG.get("PDP::pdpColorSwatchesExpandedByDefault"))&&f(".show-more-js").trigger("click")}function o(){var t=f(".collapsable-container-js").not(f(".stl-product-grid-product-js .collapsable-container-js")),o=t.find(".attr-box"),e=o.length,a=o.outerWidth(!0),i=t.outerWidth(),n=Math.floor(i/a),r=Math.ceil(e/n);0!==r&&(1===r?l.pdpUpdatePage.toggleVisibility(f(".show-more-js"),!1):l.pdpUpdatePage.toggleVisibility(f(".show-more-js"),!0))}function e(){if("last"!=g){var t=f(".collapsable-container-js"),o=f(".color-swatches-action-js"),e=t.find(".attr-box"),a=e.length,i=e.outerWidth(!0),n=t.outerWidth(),r=Math.floor(n/i),l=Math.ceil(a/r);p=e.outerHeight(!0),t.height(p),0!==l&&(1===l?o.css("display","none"):($lastElementInFirstRow=f(f(".attr-box",t).get(r-2)),inputId=$lastElementInFirstRow.data("formButton"),o.css("display","inline-block"),f('.attr-box[data-form-button="'+inputId+'"]').after(o)))}}function a(){"undefined"!=typeof SHOWMORELINKASSWATCH&&SHOWMORELINKASSWATCH?(e(),c()):(o(),d())}var i,n,r,s=(i={init:function(t){var o;return"marketing"===t?o=f(".btn-marketing-video-js"):"product"===t&&(o=f(".product-videos-js")),i.setVideoSwatchHtml(t,o)||""},setVideoSwatchHtml:function(t,o){var e;return o.length&&("marketing"===t?e=f(".marketing-video-js",o).removeClass("hide").html():"product"===t&&(e=o.html())),e}}).init,c=(n={init:function(){n.bindClick()},bindClick:function(){f(".show-more-js",".color-swatches-action-js").on("click",function(t){n.resizeContainerForColorSwatches(t)})},resizeContainerForColorSwatches:function(t){t.preventDefault();var o,e=f(t.target),a=e.attr("data-alt-toggle-text"),i=f(".collapsable-container-js"),n=f(".color-swatches-action-js"),r=i.find(".attr-box"),l=r.length+n.length,s=r.outerWidth(!0),c=i.outerWidth(),d=Math.floor(c/s),h=Math.ceil(l/d),u=h*p;e.attr("data-alt-toggle-text",e.html()).html(a),g=i.height()>=u?(o=f(f(".attr-box",i).get(d-2)).data("formButton"),u=p,f('.attr-box[data-form-button="'+o+'"]').after(n),null):(o=f(f(".attr-box",i)).last().data("formButton"),f('.attr-box[data-form-button="'+o+'"]').after(n),"last"),i.animate({height:u},500)}}).init,d=(r={init:function(){r.bindClick()},bindClick:function(){f(".show-more-js").off().on("click",function(t){r.resizeContainerForSwatches(t)})},resizeContainerForSwatches:function(t){t.preventDefault(),t.stopPropagation();var o=f(".collapsable-container-js").not(f(".stl-product-grid-product-js .collapsable-container-js")),e=o.find(".attr-box:first").outerHeight(!0),a=o.find(".attr-box:first").outerWidth(!0),i=o.find(".attr-box").length,n=o.outerWidth(),r=Math.floor(n/a),l=Math.ceil(i/r)*e;o.height()>=l&&(l=e),o.animate({height:l+1},500);var s=f(t.target).data("alt-toggle-text"),c=f(t.target).text();void 0!==s&&void 0!==c&&f(t.target).data("alt-toggle-text",c).text(s),f(t.target).toggleClass("expanded")}}).init;return{pdpAndQuickViewInitialSetup:{init:function(){a(),t()}}.init,showMoreSwatches:d,expandMoreSwatches:t,showMoreSwatchesIfRoom:a,createVideoSwatch:s,initShowMoreColorsAsSwatch:e,showMoreColorAsSwatches:c,initShowMoreColorsLink:o}});
//# sourceMappingURL=../../../../maps/js/wcs/view/product-views/product-view-swatches.hash-d98caf7921f6f40d990cc6d616a3c0cc.js.map