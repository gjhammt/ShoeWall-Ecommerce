define(["vfdp-s7-viewer.viewer.prototype"],function(n){"use strict";function o(o,t,e){s7sdk.Logger.traceLevel>=s7sdk.Logger.CONFIG&&console.log("Creating new ZoomViewer"),this.type=[s7sdk.ItemDescType.IMG],this.config=o,this.Container=t,this.params=e,this.SDKDependencies=["s7sdk.common.Button","s7sdk.common.ControlBar","s7sdk.image.ZoomView"],n.call(this,"image.ZoomView","ZoomView")}return o.prototype={init:function(){s7sdk.Logger.traceLevel>=s7sdk.Logger.FINE&&console.log("ZoomView.prototype.init");var e=this;this.ControlBar.show=function(){this.setCSS(".s7controlbar","display","block");var o=e.config.getConfig().Viewer.ZoomView.ControlBar;o.fullscreen?(this.FullScreenButton.setCSS(".s7fullscreenbutton","visibility","visible"),this.FullScreenButton.activate()):(this.FullScreenButton.setCSS(".s7fullscreenbutton","visibility","hidden"),this.FullScreenButton.deactivate()),e.ControlBar.setModifier(o.modifiers),e.initZoomStepMonitor(),window.removeEventListener("viewer.activeIndex.change",e.handleZoomStepMonitor("zoomReset")),window.addEventListener("viewer.activeIndex.change",function(o){e.handleZoomStepMonitor("zoomReset")},!1)},this.ControlBar.ZoomInButton=new s7sdk.common.ZoomInButton(this.ControlBar.getId(),this.params,this.ControlBar.getId()+"-ZoomView-zoomInBtn"),this.ControlBar.ZoomOutButton=new s7sdk.common.ZoomOutButton(this.ControlBar.getId(),this.params,this.ControlBar.getId()+"-ZoomView-zoomOutBtn"),this.ControlBar.ZoomResetButton=new s7sdk.common.ZoomResetButton(this.ControlBar.getId(),this.params,this.ControlBar.getId()+"-ZoomView-zoomResetBtn"),this.ControlBar.ZoomInButton.addEventListener("click",function(){e.Viewer.zoomIn(),e.handleZoomStepMonitor("zoomIn")}),this.ControlBar.ZoomOutButton.addEventListener("click",function(){e.Viewer.zoomOut(),e.handleZoomStepMonitor("zoomOut")}),this.ControlBar.ZoomResetButton.addEventListener("click",function(){e.Viewer.zoomReset(),e.handleZoomStepMonitor("zoomReset")}),this.config.getConfig().labels.length&&this.config.getConfig().labels.forEach(function(o){var t="FullScreenButton"===o?e.ControlBar[o].component.toolTipUnselected:e.ControlBar[o].component.hint;e.ControlBar[o].component.obj.innerHTML='<span class="label">'+t+"</span>"})},setItem:function(o){this.Viewer.setItem(o)},initZoomStepMonitor:function(){var o=this,t=o.config.getConfig().Viewer.ZoomView.ControlBar,e=o.Viewer.component.zoomStep.limit?o.Viewer.component.zoomStep.limit:1;o.maximumImageScale=100*e,o.zoomStepMonitor=!!t.zoomStepMonitor&&t.zoomStepMonitor,o.zoomStepMonitor&&this.ControlBar.ZoomOutButton.deactivate()},handleZoomStepMonitor:function(o){var t=this;if(t.zoomStepMonitor){var e=t.Viewer.component.lastScale,n=25;"zoomIn"===o?n=e?2*e:25:"zoomOut"===o&&(n=e?e/2:25),n>t.maximumImageScale?(this.ControlBar.ZoomInButton.deactivate(),this.ControlBar.ZoomOutButton.activate()):n<50?(this.ControlBar.ZoomInButton.activate(),this.ControlBar.ZoomOutButton.deactivate()):(this.ControlBar.ZoomInButton.activate(),this.ControlBar.ZoomOutButton.activate())}}},o});
//# sourceMappingURL=../../../../maps/js/wcs/view/vfdp-s7-viewer/zoomviewer.hash-7f40818f2df426941ba73d6328479941.js.map