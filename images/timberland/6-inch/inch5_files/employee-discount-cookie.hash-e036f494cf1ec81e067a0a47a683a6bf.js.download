define(["jquery","wcs.context","wcs.alert","domReady","promise!wcs.lang-msg"],function(r,t,o,e){"use strict";var a=t.getStoreId(),s=[],n=WCS_CONFIG.get("MY_ACCOUNT::myAccountEmployeeSpendMsgPersistEnabled");function i(e,a){var s=r(".page-messaging-js:not(.hide)").find(".message").length,t=r(".page-messaging-js:not(.hide)").find(".message.error.employee-discount-message").length,n="margin: 0 0 20px 0";s?(t&&(n=""),r(".page-messaging-js div").first().prepend("<p role='alert' aria-live='assertive' class='employee-discount-message message "+a+"' style='"+n+"'>"+e+"</p>")):(o.showPageNotification(e,a,{escapeHtml:!1}),r(".message.error").addClass("employee-discount-message"))}function c(e){var o;!function(){var e=r(".page-notification-js");if(0==e.length){for(var a=null,s=["#product-detail",".page-meta",".page-contents","body > div"],t=0;t<s.length;t++){var n=s[t];if(0<r(n).length){a=n;break}}r(a).first().prepend('<div class="page-notification text-center page-notification-js"><section class="page-messaging-js"></section></div>'),"none"==r(a).css("display")&&r(a).css({display:"block",padding:"0 0 20px 0"})}else e.addClass("text-center").css("padding","0 0 20px 0")}(),e.forEach(function(e){if(e.errorMessageKey)i(o=r("<div />").html(LANG_MSG[e.errorMessageKey]).text(),"error");else if(e.messageKey){o=r("<div />").html(LANG_MSG[e.messageKey]).text();var a=e.adjustAmount===e.adjustCap?Number(parseFloat(e.adjustAmount)).toLocaleString("en"):Number(parseFloat(e.adjustAmount)).toLocaleString("en",{minimumFractionDigits:2}),s=Number(parseFloat(e.adjustCap)).toLocaleString("en"),t=e.brandName.replace(/\+/g," "),n=e.adjustAmount===e.adjustCap?"error":"success";i(o=o.replace("{0}",a).replace("{1}",s).replace("{2}",t),n)}})}s.push("EMPLOYEEDISCOUNTCAP"+a,"EMPLOYEEDISCOUNTSPEND"+a,"EMPLOYEELOGONLANDING"+a),e(function(){var e=s.map(function(e){var a=t.getCookie(e),s=!!a&&JSON.parse(a);return s&&(s.name=e),s}),a=dataLayer[0].pageName;(e[0]||e[1])&&(n?("shopcart"!==a&&!e[2]||c(e),t.removeCookie(e[0].name),t.removeCookie(e[2].name)):(c(e),e.forEach(function(e){e&&t.removeCookie(e.name)})))})});
//# sourceMappingURL=../../maps/js/wcs/employee-discount-cookie.hash-9dbe207e9b3692a49bf807efc72f87ee.js.map