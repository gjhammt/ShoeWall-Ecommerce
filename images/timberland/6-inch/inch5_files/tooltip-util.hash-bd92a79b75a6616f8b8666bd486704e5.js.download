define(["jquery","domReady!","pubsub","jquery.tooltipster","promise!wcs.lang-msg"],function(n,t){var e,o=null;try{e=ZCG_CONFIG.TOOLTIP.TOOLTIP_THEME}catch(t){e="tooltipster-default"}function i(){null===o&&this.init()}return i.prototype={init:function(){return this.tooltipsterEvents(),this.initTooltipsters(),this},tooltipsterEvents:function(){var t=this;n.pubsub("subscribe","REINIT_TOOLTIPSTERS",function(){t.initTooltipsters()}),n.pubsub("subscribe","STICKYCART_TOOLTIPSTERS",function(){t.initStickyCartTooltipster()}),n(document).on("open","#modal","[data-reveal]",function(){t.setupGuaranteeLinkTooltipster(n("#quickview-box .product-content-form-guarantee-tooltip.link-button.tooltip-js"))}),n.pubsub("subscribe","vfdp.wcs.product_list.ajax_product_loaded",function(){t.initDefaultTooltipster(!0)}),n.pubsub("subscribe","vfdp.aem.topnav.dropdown",function(){n(".tooltip-js").filter(function(){return n(this).data("tooltipsterNs")}).tooltipster("hide")})},initTooltipsters:function(){this.initPDPBadgeTooltipster(),this.initPDPSwatchesProductImgTooltipster(),this.initEGiftHelpTooltipster(),this.initSecondaryProductActionTooltipster(),this.initGuaranteeLinkTooltipster(),this.initSellingFormSectionTooltipster(),this.initTooltipCommon(),this.initLoyaltySignupTooltipster(),this.initCheckoutHeaderLogoTooltipster(),this.initDefaultTooltipster()},initPDPBadgeTooltipster:function(){var t=n(".product-content-form-guarantee-tooltip.tooltip-js");t.hasClass("tooltipstered")||this.setupGuaranteeLinkTooltipster(t)},setupGuaranteeLinkTooltipster:function(t){var o=0;t.closest(".reveal").length&&(o=parseInt(n("html").css("top"),10)),t.tooltipster({contentAsHTML:!0,animation:"fade",trigger:"click",position:"top",interactive:!0,minWidth:300,maxWidth:300,theme:"tooltipster-light",offsetY:o,multiple:!0})},initPDPSwatchesProductImgTooltipster:function(){var t=n(".pdp-swatches #product-imgs img.tooltip-js");t.hasClass("tooltipstered")||t.on("mouseout",function(t){t.stopPropagation();var o=n(t.target);setTimeout(function(){o.tooltipster("hide")},6e3)}).tooltipster({contentAsHTML:!0,animation:"fade",trigger:"click",position:"right",interactive:!0,theme:"tooltipster-light"})},initSecondaryProductActionTooltipster:function(){var t=n(".pdp-swatches .product-actions-secondary .tooltip-js");t.hasClass("tooltipstered")||t.tooltipster({contentAsHTML:!0,animation:"fade",trigger:"click",position:"right",interactive:!0,multiple:!0,theme:"tooltipster-light"})},initEGiftHelpTooltipster:function(){n(".egift-link-tooltip.tooltip-js").tooltipster({contentAsHTML:!0,animation:"fade",trigger:"click",minWidth:300,maxWidth:300,position:"top",forcePosition:!1,interactive:!0,multiple:!0,theme:"tooltipster-light"})},initGuaranteeLinkTooltipster:function(){var t=!1,o=n(".pdp-swatches #product-form a.tooltip-js");o.hasClass("tooltipstered")||o.tooltipster({contentAsHTML:!0,animation:"fade",trigger:"custom",position:"left",interactive:!0,theme:"tooltipster-light",functionReady:function(){!1===t&&(t=!0,o.on("mouseout click hover mouseover",function(t){o.tooltipster("enable")}))}})},initSellingFormSectionTooltipster:function(){var t=n("#selling-form-section-js .tooltip-js");t.hasClass("tooltipstered")||t.tooltipster({contentAsHTML:!0,multiple:!0,animation:"fade",trigger:"click",interactive:!0,theme:e,functionReady:function(){n(".tooltipClose").on("click",function(){n(".tooltip-js").tooltipster("hide")})}})},initTooltipCommon:function(){var e=n(".tooltip-common.tooltip-js").not(".tooltipstered");e.on("click",function(t){t.preventDefault();var o=n(this);"false"===o.attr("aria-expanded")?o.attr("aria-expanded","true"):o.attr("aria-expanded","false")}).tooltipster({contentAsHTML:!0,multiple:!0,animation:"fade",trigger:"click",interactive:!0,trackTooltip:!0,theme:".tooltipster-shadow",functionBefore:function(t,o){o();var i=LANG_MSG["MODAL.LABELS.CLOSE"]||"close";n(".tooltipster-content").find("img").on("load",function(){t.tooltipster("reposition")}).end().append('<div class="tooltipCloseBtn"><button class="tooltipClose">'+i+"</button></div>").parent().addClass("tooltipster-common"),t.tooltipster("reposition"),n(".tooltipClose").on("click",function(){e.tooltipster("hide").attr("aria-expanded","false")}),n(".tooltipster-content").find("a[href]:not(:disabled), button:not(:disabled)")[0].focus()},functionReady:function(t){t.hasClass("visacheckout-tooltip")&&WCS_CONFIG.get("checkout::visaCheckoutEnabled")&&n.pubsub("publish","VISA_CHECKOUT_CONTENT_READY")},functionAfter:function(t){t.focus()}})},initLoyaltySignupTooltipster:function(){var t=n(".tooltip-loyalty-signup.tooltip-js");t.hasClass("tooltipstered")||t.tooltipster({contentAsHTML:!0,multiple:!0,animation:"fade",trigger:"click",interactive:!0,maxWidth:310,theme:e})},initCheckoutHeaderLogoTooltipster:function(){var o=n(".checkout-header-logo-tooltip.tooltip-js");o.hasClass("tooltipstered")||o.tooltipster({contentAsHTML:!0,trackTooltip:!0,animation:"fade",trigger:"click",interactive:!0,theme:".tooltipster-shadow tooltipster-checkout-header-alert",functionReady:function(t){n(".close-tooltip").on("click",function(){o.tooltipster("hide")})}})},initStickyCartTooltipster:function(){var t=n(".sticky-add-to-cart .product-content-form-guarantee-tooltip.tooltip-js"),o=0;t.closest(".reveal").length&&(o=parseInt(n("html").css("top"),10)),t.tooltipster({contentAsHTML:!0,animation:"fade",trigger:"click",position:"top",interactive:!0,minWidth:300,maxWidth:300,theme:"tooltipster-light",offsetY:o,multiple:!0})},initDefaultTooltipster:function(t){var i=this,o=n(".tooltip-js");o.hasClass("tooltipstered")&&!t||o.tooltipster({contentAsHTML:!0,multiple:!0,animation:"fade",trigger:"click",interactive:!0,theme:e,functionBefore:function(t,o){o(),0<n("#account, #myaccount").length&&i.initMyAccountTooltip()}})},initMyAccountTooltip:function(){n("img",".tooltipster-content").on("load",function(){origin.tooltipster("reposition")}),n(".tooltip-close-js").on("click",function(t){t.preventDefault(),n(".tooltip-js").tooltipster("hide")})}},(i.getInstance=function(){return null===o&&(o=new i),o})()});
//# sourceMappingURL=../../../maps/js/wcs/util/tooltip-util.hash-ab48b3641165ffbd5511c950f4ea98db.js.map