window.gtm={initMetrics:function(){window.datalayer=window.datalayer||{};try{console.log("defining data layer",this),zm.listeners.push({initView:gtm.initMetrics,trackEvent:gtm.trackEvent,trackGeneric:gtm.trackGeneric,productView:gtm.productView,removedItem:gtm.removedItem,checkoutEvent:gtm.checkoutOption})}catch(e){console.error("error itializing datalayer:",e)}},trackEvent:function(e){window.dataLayer.push(e)},trackGeneric:function(e){window.dataLayer.push(e)},productView:function(e){var t,r,o;if(window.dataLayer)for(var c in window.dataLayer)if((o=window.dataLayer[c]).currency&&o.currencySymbol){t=o.currency,r=o.currencySymbol;break}var d="",i="";e.productId&&4<e.productId.length?(i=e.productId.slice(0,e.productId.length-3),d=e.productId.slice(e.productId.length-3,e.productId.length)):i=e.productId,window.dataLayer.push({event:"productDetailView",ecommerce:{currencyCode:t||null,currencySymbol:r||null,detail:{actionField:{list:e.pageId},products:[{id:e.productId,sku:e.productId,bundleID:e.bundleId?e.bundleId:null,productID:e.productId?e.productId:null,itemID:e.itemId?e.itemId:null,name:e.productName,brand:"",category:e.categoryId?e.categoryId:"Misc",variant:e.definingAttributes?e.definingAttributes:"",price:e.price?parseFloat(e.price):0,numReviews:e.numReviews?e.numReviews:0,badge:e.badgeDescription?e.badgeDescription:null,avgRating:e.avgRating?e.avgRating:0,styleCode:i,colorCode:d||e.colorCode,colorDescription:e.colorDescription?e.colorDescription:""}]}}});var n={sku:e.productId,name:e.productName,category:e.categoryId?e.categoryId:"Misc",parentId:e.parentProductId?e.parentProductId:"",bundlePartNumber:e.bundlePartNumber?e.bundlePartNumber:"",productOrigination:e.productOrigination?e.productOrigination:"search",seoCategory:e.seoCategory?e.seoCategory:""};!0===e.isSearch?window.dataLayer.push({event:"productview",productViewType:e.productViewType,searchProductClick:n}):window.dataLayer.push({event:"productview",productViewType:e.productViewType,gridProductClick:n})},removedItem:function(e){var t,r;if(window.dataLayer)for(var o in window.dataLayer)if((r=window.dataLayer[o]).currency&&r.currencySymbol){r.currency,t=r.currencySymbol;break}window.dataLayer.push({event:"removeFromCart",ecommerce:{currencyCode:e.currency?e.currency:null,currencySymbol:t||null,remove:{products:[{name:e.productName,id:e.productId,bundleID:e.bundleId?e.bundleId:null,productID:e.productId?e.productId:null,itemID:e.itemId?e.itemId:null,vn:e.itemId?e.itemId:null,price:parseFloat(e.unitPrice),brand:"",category:e.categoryId?e.categoryId:"Misc",variant:e.definingAttributes?e.definingAttributes:"",quantity:e.quantity,styleCode:e.styleCode?e.styleCode:"",colorCode:e.colorCode?e.colorCode:"",colorDescription:e.colorDescription?e.colorDescription:"",size:e.size?e.size:""}]}}})},checkoutOption:function(e){window.dataLayer.push({event:"checkoutOption",ecommerce:{checkout_option:{actionField:{step:e.checkoutStep,option:e.event}}}})}};
//# sourceMappingURL=../../maps/js/metrics/gtm-listener.hash-586b0c90a4fc57c6546fe4260a1893e6.js.map