define(["jquery","wcs.context","pubsub"],function(n,t,e){var a;return(a={defaults:{el:".topnav-cart, .unav-shoppingbag-js",dataAttr:"cart-options",replaceSelector:".topnav-cart-qty",classHasProducts:"has-products"},init:function(){var e=this;return e.deferred=n.Deferred(),e.$element=n(e.defaults.el),e.$cartLink=e.$element.find("a"),e.metadata=e.$element.data(e.defaults.dataAttr),e.config=n.extend({},e.defaults,e.metadata),e.$element.hasClass("unav-shoppingbag-js")&&(e.config.replaceSelector=".nav-shoppingbag-qty-js"),e.events(),e.deferred.resolve(),e.update()},events:function(){var a=this;n.pubsub("subscribe","SHOPCART_UPDATED",function(e,t){a.update()})},update:function(){return this.updateDisplay(this.getCount())},getCount:function(){var e=Number(t.getShoppingCart().quantity);return isNaN(e)?0:e},updateDisplay:function(e){var t=this,a=n(t.config.replaceSelector);return a.text(e),a.removeClass("hide"),0<e?(t.$element.addClass(t.config.classHasProducts),t.toggleAriaDescription(!0)):(t.$element.removeClass(t.config.classHasProducts),t.toggleAriaDescription(!1)),t.config.replaced=!0,t},toggleAriaDescription:function(e){this.$cartLink.removeAttr("aria-describedby"),e&&this.$cartLink.each(function(e,t){var a=n(t).data("ariaDescribedby");a&&n("#"+a).length&&n(t).attr("aria-describedby",a)})}}).init(),a});
//# sourceMappingURL=../../../maps/js/cms/nav/utilityNav.cart.hash-e87188832c24df2a31341443c69e557b.js.map