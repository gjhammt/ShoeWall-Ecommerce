define(["require","jquery"],function(e,n){function t(e,i){this.element=e,this.options=i}var s="molLazyPlatformViewer";t.defaults=(t.prototype={defaults:{},init:function(){var e=this;return console.debug("Initializing ",s,"on",n(e.element)),e.metadata=n(e.element).data(s+"Options"),e.config=n.extend({},e.defaults,e.options,e.metadata),e.events(),e._build(),e},initViewer:function(n,t){var s=this;this.selector.addClass(this.className),e(["vfdp-s7-viewer.app"],function(e){var i={media:{set:{index:n}}};s.showOnlySpinViewer?(i.singleViewerMode=!0,i.singleViewerType="SPIN_SET"):(i.singleViewerMode=!1,i.singleViewerType=""),e(i),s.viewerInstance=s.element.VFDPS7Viewer,s.viewerInstance&&s.viewerInstance.subscribeToFullScreenChange&&s.viewerInstance.subscribeToFullScreenChange(t)}),this.isLoaded=!0},loadViewer:function(e,i){var n=this;n.viewerInstance&&(n.viewerInstance.updateMediaSetIndex(e),i&&(n.showViewer(),n.viewerInstance.onClickFullScreen()))},unloadViewer:function(){this.selector.removeClass(self.className)},hideViewer:function(){this.showOnlySpinViewer||this.selector.addClass("hide")},showViewer:function(){this.selector.removeClass("hide")},moveToContainer:function(e){if(this.showOnlySpinViewer=!0,this.selector.appendTo(e),this.viewerInstance){this.viewerInstance.changeViewerMode.call(this.viewerInstance,!0,"SPIN_SET");var i={s7event:{asset:this.viewerInstance.mediasetDesc}};this.viewerInstance.onMediaSetParsed(i)}},restoreContainer:function(e){this.showOnlySpinViewer=!1,this.selector.insertAfter(e);var i={s7event:{asset:this.viewerInstance.mediasetDesc}};this.viewerInstance.changeViewerMode.call(this.viewerInstance,!1,""),this.viewerInstance.onMediaSetParsed(i)},events:function(){},_build:function(){var e=this;e.selector=n(e.element),e.className=e.selector.data("viewer"),e.isLoaded=!1}}).defaults,n.fn[s]=function(i){return this.each(function(){var e=n(this).data(s);e||(e=new t(this,i).init(),n(this).data(s,e))})}});
//# sourceMappingURL=../../maps/js/vfdp/molLazyPlatformViewer.hash-8d2a65c75a18e7bf8e00aa67b667a7f0.js.map