define(["jquery","domReady","wcs.product-price","wcs.product-views-util","wcs.product-views-swatches"],function(d,e,t,o,r){var c,a,n,u=!1;function i(e,t){var r=d(t.target).data();t.preventDataLayerPush||!1||function(e,t){var r=function(){var e,t,r;if(window.dataLayer)for(var o in window.dataLayer)if(r=window.dataLayer[o],e=r.currency,t=r.currencySymbol){t=t.replace(/&amp;/g,"&"),t=d("<textarea/>").html(t).text(),window.dataLayer[o].currencySymbol=t;break}return{currencySymbol:t,currencyCode:e}}(),o={event:e,ecommerce:{currencyCode:r.currencyCode?r.currencyCode:null,currencySymbol:r.currencySymbol?r.currencySymbol:null}};if("productDetailColorClick"===e){var c={id:t.partNumber,sku:t.partNumber,productID:t.partNumber,name:t.productName};t.productData&&(c.colorDescription=t.productData.colorDescription?t.productData.colorDescription:"",c.styleCode=t.productData.styleCode?t.productData.styleCode:"",c.colorCode=t.productData.colorCode?t.productData.colorCode:""),o.ecommerce.detail={actionField:{list:"fullpdp"},products:[c]}}try{window.dataLayer.push(o)}catch(e){console.error("Failed push to dataLayer",e)}}("productDetailColorClick",r),o.pdpUpdatePage.updateProductName(r.productName,r.productUrl),o.pdpUpdatePage.updateProductPartNumber(r.partNumber),!0===r.productDescUpdateEnabled&&o.pdpUpdatePage.updateProductDesc(r.productDesc),u&&a&&0<a.length&&o.pdpUpdatePage.updateProductBadge(r.badgesrc,r.badgeattrvalue,a),c&&0<c.length&&o.pdpUpdatePage.updateProductDetailDrawerDescriptionImage(r.descriptionImage,c),d.pubsub("publish","product-form.product-viewer.swatch.click.complete")}function p(){d(".product-content-container").find(".product-form-js").productPrices(),o.quickViewInitialSetup(),r.pdpAndQuickViewInitialSetup()}function s(){d(".product-form-js").productPrices(),o.pdpInitialSetup(),r.pdpAndQuickViewInitialSetup(),0!==d(".product-compare-container-js").length&&require(["wcs.product-views-equipment-compare"],function(e){e.init()})}function l(){require(["wcs.product-video-controller"],function(e){e.initializeVideo()})}return e(function(){if(!d("#checkout").length){var t=!1;if(c=d(".product-details-drawer-container .drawer-description-image"),a=d(".product-views-promo-badge-image"),n=d(".product-content-form-attr-container .attr-box.selected .color-swatch-button-content"),"undefined"!=typeof WCS_CONFIG&&WCS_CONFIG.get("PDP::skuLevelBadgeAttributeEnabled")&&(u=!0),u&&a&&0<a.length&&n&&1===n.length){var e=n.data();o.pdpUpdatePage.updateProductBadge(e.badgesrc,e.badgeattrvalue,a)}d(".vfdp-s7-viewer").length&&"undefined"!=typeof wcsPDPVideoConfig&&!t?(l(),t=!0):document.addEventListener("init.viewer.complete",function(e){"undefined"!=typeof wcsPDPVideoConfig&&(l(),t=!0)},!1),d.pubsub("subscribe","product-form.attr.swatch.click",i)}}),{setupPDP:s,setupQuickshop:p,handleContextChangePDP:function(){d(".product-img-js").parents(".product-context-js").on("PRODUCT_CONTEXT_CHANGED",function(e){d("div.product-img-js .product-view-control-js.secondary").remove(),d("div.product-img-js .product-view-control-js").css("display",""),s()})},handleContextChangeQuickshop:function(){d(".product-img-js").parents(".product-context-js").on("PRODUCT_CONTEXT_CHANGED",function(e){p()})}}});
//# sourceMappingURL=../../../../maps/js/wcs/view/product-views/product-views.hash-51e0bb83cf6bcf3afa8afceb9de9de84.js.map