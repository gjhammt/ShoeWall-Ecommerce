define(["jquery","pubsub"],function(x){"use strict";function e(t){var a,e,o,c,n,r,i,l,d=x(".active-context-js"),s=x('.context-toggle-js:not(.hide) .color-swatches-js .attr-box.selected [data-role="swatch"]'),u=x('.context-toggle-js:not(.hide) .color-swatches-js .attr-box.selected[data-role="swatch"]'),h=d.data("product-url"),p=s.data("product-url"),b=u.data("product-url"),w=s.data("variation-id")||u.data("variation-id"),f=h||p||b;return a=0<=f.indexOf("?")?f+window.location.hash:f+window.location.search+window.location.hash,e=a,o="variationId",c=w,n=t,i=new RegExp("([?&#])"+o+"=.*?(&|#|$)","i"),l="",e.match(i)?e.replace(i,"$1"+o+"="+c+"$2"):n?(r?l=-1!==e.indexOf("#")?"&":"#":(l=-1!==e.indexOf("?")?"&":"?",-1!==e.indexOf("#")&&(e.replace(/.*#/,"#"),e=e.replace(/#.*/,""))),e+l+o+"="+c):e}x.pubsub("subscribe","product-form.attr.swatch.click",function(t,a){history.replaceState(null,null,e(WCS_CONFIG.PDP.changeVariationIdOnColorClick))}),x.pubsub("subscribe","product-form.attr.context.changed",function(t,a){history.replaceState(null,null,e())})});
//# sourceMappingURL=../../../../maps/js/wcs/view/product-form/product-form-html5history.hash-cf6542478138ae536d2c147567a10e19.js.map