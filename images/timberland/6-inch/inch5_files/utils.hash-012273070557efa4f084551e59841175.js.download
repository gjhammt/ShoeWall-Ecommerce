define(["jquery","wcs.input-validator"],function(a,u){function o(e){var i={},t=e.split("?")[1];if(e&&t){var n=(t=t.split("#")[0]).split("&");a.each(n,function(e,t){var n=t.split("=");i[n[0]]=n[1]})}return i}function s(e){if(!e)return location.hash;var t=e.indexOf("#");return-1<t?e.substring(t):""}function d(e){return t(e=l(e)).split("?")[0]}function l(e){return e||location.href}function t(e){var t=(e=l(e)).indexOf("#"),n=e;return-1<t&&(n=e.substring(0,t)),n}var i,e=(i={},function(e,t,n){i[n=n||"Don't call this twice without a uniqueId"]&&clearTimeout(i[n]),i[n]=setTimeout(e,t)});var r=[{dType:"ios",qString:"ipad"},{dType:"ios",qString:"ipod"},{dType:"ios",qString:"iphone"},{dType:"android",qString:"android"},{dType:"wp7",qString:"windows phone"},{dType:"w8",qString:"windows nt 6.2"}];function c(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function f(e,t,n){var i=[e,t,n].map(function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)});return.2126*i[0]+.7152*i[1]+.0722*i[2]}return{setURLParam:function(e,t,n){e=l(e);var i="",r="";if(t=encodeURIComponent(t),n=encodeURIComponent(n),-1<e.indexOf(t)){r=t+"="+n;var a=new RegExp(t+"=([^&#]*)","gi");i=e.replace(a,r)}else r=e.indexOf("?")<0?"?":"&",i=e+(r+=t+"="+n);return i},setMultipleURLParams:function(s,u,d){return d=l(d),Object.keys(s).forEach(function(e){var t,n,i,r,a,o;t=d,i=s[n=e],r=u,a=new RegExp("([?&#])"+n+"=.*?(&|#|$)","gi"),o="",d=t.match(a)?t.replace(a,"$1"+n+"="+i+"$2"):(r?o=-1!==t.indexOf("#")?"&":"#":(o=-1!==t.indexOf("?")?"&":"?",-1!==t.indexOf("#")&&(t=t.replace(/#.*/,""))),t+o+n+"="+i)}),d},setMultipleURLParamsFromHash:function(e){var t=s(e=l(e)),n=d(e),i=o(e),r=o("?"+t.substring(1));return a.extend(i,r),n+"?"+Object.keys(i).map(function(e){return e+"="+i[e]}).join("&")+t},getURLParam:function(e,t){var n=0,i=-1;return t=encodeURIComponent(t),e&&-1<(i=e.indexOf(t))&&(-1<(e=e.substring(i)).indexOf("&")&&(e=e.substring(0,e.indexOf("&"))),-1<(n=e.substring(e.indexOf("=")+1)).indexOf("#")&&(n=n.split("#")[0])),n},getAllURLParams:o,hasURLParam:function(e,t){return-1<(e=l(e)).search(t)},removeURLParam:function(e,t){var n=e.indexOf(t),i="",r="",a=e;return-1<n&&(i=e.substring(0,n),a=-1<(n=(r=e.substring(n)).indexOf("&"))?i+(r=r.substring(n+1)):(i.lastIndexOf("&")===i.length-1&&(i=i.substring(0,i.lastIndexOf("&"))),i)),a},addItemPreSourcingParams:function(e,t,n){for(var i=new u,r=0;r<e.catentryNumber;r++)for(var a=0;a<n.length;a++){var o=n[a]+"_"+r,s=e[o];i.isEmpty(s)||(t[o]=s)}return t},navigateWithParams:function(e,t,n){"object"==typeof t?e=e+"?"+(t=a.param(t)):"string"==typeof t&&0<t.length&&(e=e+"?"+t),"object"!=typeof n&&(n=window.location),n.href=e},isDisabledButton:function(e){return!(null==e||!e.hasClass("disabled"))},enableButton:function(e){null!=e&&e.hasClass("disabled")&&e.removeClass("disabled")},disableButton:function(e){null==e||e.hasClass("disabled")||e.addClass("disabled")},getParamFromHash:function(e){var t=new RegExp("#(.*[?&]|)"+e+"=([^&]+)(&|$)"),n=window.location.hash.match(t);return n&&n[2]?n[2]:""},getHash:s,getBaseUrl:d,getFullUrl:l,removeHash:t,checkPOBOXAddress:function(e){return null!=e&&""!==e&&(t="undefined"!=typeof WCS_CONFIG&&"undefined"!==WCS_CONFIG.get("address::poBoxValidationRegex")?new RegExp(WCS_CONFIG.get("address::poBoxValidationRegex"),"i"):new RegExp("(P\\.? *?O\\.?\\s?|post\\s+office )+Box\\s","i"),!!e.match(t));var t},showSearchWidgetMoreLink:function(){if(0<a("#br-related-searches-widget").length&&5<a("#br-related-searches-widget a").length){var e=LANG_SEARCH_WIDGET.SEARCH_WIDGET_MORE,t=a('<a id="more" href="javascript:void(0)" >'+e+"</a>");t.on("click",function(){a("#more").hide(),a("div.br-related-query").last().show()}),0===a("#more").length&&a("div.br-related-query").last().hide().after(t)}},interruptTransitions:function(e,t){if(t&&"function"!=typeof t)throw t+" is not a function.";if("object"!=typeof e||!e.jquery)throw e+" is not a JQuery object.";if(e.length<1)throw e+" is empty.";var n=[];e.each(function(e,t){n[e]=t.style.transition,t.style.transition=""}),t&&t(),e.each(function(e,t){t.style.transition=n[e]})},xmlToJson:function e(t){var n={};if(1===t.nodeType){var i=t.attributes.length;if(0<i){n.attributes={};for(var r=0;r<i;r++){var a=t.attributes.item(r);n.attributes[a.nodeName]=a.nodeValue}}}else 3===t.nodeType&&(n=t.nodeValue);if(t.hasChildNodes())for(var o=0;o<t.childNodes.length;o++){var s=t.childNodes.item(o),u=s.nodeName;if(void 0===n[u])n[u]=e(s);else{if(void 0===n[u].push){var d=n[u];n[u]=[],n[u].push(d)}n[u].push(e(s))}}return n},waitForFinalEvent:e,getDeviceType:function(){var e,t,n,i;for(e=navigator.userAgent.toLowerCase(),t=0,n=r.length,i="default";t<n;t++)if(0<=e.indexOf(r[t].qString)){i=r[t].dType;break}return i},getHiddenElementSize:function(e,t){var n={display:"",left:"",position:"",visibility:""},i={display:"block",left:"-999em",position:"absolute",visibility:"hidden"},r=t||e;r.css(i);var a={height:e.outerHeight(),width:e.outerWidth()};return r.css(n),a},debounce:function(i,r,a){var o;return function(){var e=this,t=arguments,n=a&&!o;clearTimeout(o),o=setTimeout(function(){o=null,a||i.apply(e,t)},r),n&&i.apply(e,t)}},elementLoaded:function e(t,n){a(t).length?n(a(t)):setTimeout(function(){e(t,n)},500)},cleanString:function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent},displayNotificationToScreenReaders:function(e){a(e).attr("aria-live","assertive")},seeMoreLessToggle:function(e,t){e.on("click",function(){t.length&&(t.hasClass("expanded")?(t.removeClass("expanded"),a(this).text(t.data("show-more"))):(t.addClass("expanded"),a(this).text(t.data("show-less"))))})},getFullscreenElement:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},getVideoBufferedTime:function(e){return e.buffered.length&&e.buffered.end(0)||0},decodeHTML:function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent},compareContrast:function(e,t,n){var i=c(e),r=c(t),a=c(n),o=f(i.r,i.g,i.b),s=f(r.r,r.g,r.b),u=f(a.r,a.g,a.b);return Math.abs(o-s)>Math.abs(o-u)?t:n}}});
//# sourceMappingURL=../../../maps/js/wcs/util/utils.hash-cae2d343f6b97edbf61392615981d1e9.js.map