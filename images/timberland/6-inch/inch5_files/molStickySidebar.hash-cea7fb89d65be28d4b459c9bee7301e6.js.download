define(["require","jquery","pubsub"],function(a,s,i){function t(i,e){this.element=i,this.options=e}var n="molStickySidebar";t.defaults=(t.prototype={defaults:{},init:function(){var i=this;return console.debug("Initializing ",n,"on",s(i.element)),i.metadata=s(i.element).data(n+"Options"),i.config=s.extend({},i.defaults,i.options,i.metadata),i.events(),i._build(),i.config.isAutoLoad&&i.initSideBar(),i},initSideBar:function(i,e){var t=this;t.config.disableScroll||(!t.isInitialized||e?(t.unloadSideBar(),a(["sticky-sidebar"],function(){t.stickySidebar=new StickySidebar(t.config.sidebarSelector,{containerSelector:t.config.containerSelector,innerWrapperSelector:t.config.innerWrapperSelector,bottomSpacing:t.config.bottomSpacing,topSpacing:t.config.topSpacing,minWidth:640,resizeSensor:!0}),t.$stickyInner=s(t.config.innerWrapperSelector),t.isInitialized=!0,i&&i(t.stickySidebar)})):t.stickySidebar.updateSticky())},unloadSideBar:function(){this.stickySidebar&&this.stickySidebar.destroy(),this.isInitialized=!1},recalculateProperBottom:function(){var i=this;if("relative"==i.$stickyInner.css("position")&&("VIEWPORT-UNBOTTOM"===i.stickySidebar.affixedType||!1===i.stickySidebar.affixedType)&&"up"===i.stickySidebar.direction){var e=i.offsetRelative(i.stickySidebar.container).top,t=e+i.stickySidebar.container.clientHeight-(i.stickySidebar.sidebarInner.offsetHeight+e);i.stickySidebar.dimensions.translateY=t;var a=i.setupTranslateCoordinates(0,t,0);i.$stickyInner.css("transform",a)}},setupTranslateCoordinates:function(i,e,t){return this.stickySidebar.support.transform3d?"translate3d("+e+", "+i+", "+t+")":!!this.support.translate&&"translate("+e+", "+i+")"},offsetRelative:function(i){var e={left:0,top:0};do{var t=i.offsetTop,a=i.offsetLeft;isNaN(t)||(e.top+=t),isNaN(a)||(e.left+=a),i="BODY"===i.tagName?i.parentElement:i.offsetParent}while(i);return e},checkForManualResize:function(){if(this.stickySidebar)return"VIEWPORT-UNBOTTOM"===this.stickySidebar.affixedType||"CONTAINER-BOTTOM"===this.stickySidebar.affixedType||!1===this.stickySidebar.affixedType||"VIEWPORT-TOP"===this.stickySidebar.affixedType&&"up"===this.stickySidebar.direction},events:function(){s.pubsub("subscribe","vfdp.aem.videojsplayer.fullscreenchange",function(i,e){s(".pdp-alternate-view-enabled").length&&(e.isFullscreen?s(".mol-sticky-sidebar").addClass("mol-sticky-sidebar-disabled").removeClass("mol-sticky-sidebar"):s(".mol-sticky-sidebar-disabled").addClass("mol-sticky-sidebar").removeClass("mol-sticky-sidebar-disabled"))})},_build:function(){this.selector=s(this.element)}}).defaults,s.fn[n]=function(e){return this.each(function(){var i=s(this).data(n);i||(i=new t(this,e).init(),s(this).data(n,i))})}});
//# sourceMappingURL=../../maps/js/vfdp/molStickySidebar.hash-c42830cff3b363f75fff12ab5a9d56aa.js.map