define(["jquery","pubsub","Handlebars","handlebars-core"],function(i,t,e,n){"use strict";var a="autoComplete";function o(t,e){this.pluginID=a,this.element=t,this.$element=i(this.element),this.$resultsContainer=i(e.resultsContainer)||i("<div>"),this.options=e||{},this.metadata=i(this.element).data("options")}return o.defaults=(o.prototype={defaults:{action:"html",minLength:3,delay:300,searchQueryParam:"term"},init:function(){var t=this;return t.config=i.extend(!0,{},t.defaults,t.options,t.metadata),this.build(),t.loadAndCompileTemplate().done(function(){t.events()}),t},build:function(){0},events:function(){var e=this;e.$element.find(".search-input-container, .topnav-search-input-container").on("keyup",function(t){e.handleKeyUp(t)})},handleKeyUp:function(t){var e=this,n=i(t.target).val();clearTimeout(e.autoCompleteTimer),e.autoCompleteTimer=setTimeout(function(){n.split("").length>=e.config.minLength?e.fetchData(n):e.clearDisplay()},e.config.delay)},clearDisplay:function(){this.$resultsContainer.html("")},fetchData:function(e){var n=this;n.config.ajaxParams.data[n.config.searchQueryParam]=e,i.ajax(n.config.ajaxParams).done(function(t){t.term=e,n.render(t)}).fail(function(){0})},render:function(t){this.$resultsContainer[this.config.action](this.compiledTemplate(t))}}).defaults,o.prototype=i.extend({},n,o.prototype),i.fn.autoComplete=function(e){return this.each(function(){var t=i(this).data(a);t||(t=new o(this,e).init(),i(this).data(a,t))})},o});
//# sourceMappingURL=../../../maps/js/shared/autocomplete/autocomplete.base.hash-4e8e5f4a0db33438e1aadf8e6f6c0ceb.js.map