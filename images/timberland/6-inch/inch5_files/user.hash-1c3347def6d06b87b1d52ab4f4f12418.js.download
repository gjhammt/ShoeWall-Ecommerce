define(["jquery","wcs.context","pubsub"],function(e,i){return new function(){function n(e){return"vfdp-user-"+e}var s=this,u=e("html"),o=[{name:"registered",contextKey:"R"},{name:"guest",contextKey:"G"}];return this.identifyUserGroup=function(){var t=i.getUserType(),e=o.filter(function(e){return e.contextKey===t});return 0<e.length?(s.setGroup(e[0].name),e[0].name):(s.setGroup("guest"),"guest")},this.clearGroupClasses=function(){var e=o.map(function(e){return n(e.name)});e.push(n("loyalty")),u.removeClass(e.join(" "))},this.setGroup=function(t){var e=o.filter(function(e){return e.name===t}),r=i.getLoyaltyProgramStatusCookie();if(0<e.length)return s.clearGroupClasses(),u.addClass(n(t)),null!=r&&"full"===r&&u.addClass(n("loyalty")),!0;throw new Error("User group "+t+" does not exist.")},e.pubsub("subscribe","vfdp.user.status",function(){s.identifyUserGroup()}),this.identifyUserGroup(),this}});
//# sourceMappingURL=../../maps/js/shared/user.hash-c0cf09bfc628d058e4d6ce1fba241268.js.map