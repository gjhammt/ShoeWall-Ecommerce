define(["jquery","domReady","shared.main.screen","pubsub"],function(n,t,s){var e=function(){if(!(this instanceof e))return new e};e.prototype={init:function(){return this._initPubSubEvents(),this},_initPubSubEvents:function(){var r=this;n.pubsub("subscribe","product-form.attr.swatch.click",function(t,e){n(".quickview-modal.open").length<1&&r.mobileScrollToTopViewAfterSwatchSelection(e)})},convert:function(t){return n("<span />",{html:t}).text()},getScrollbarSize:function(){var t=n('<div style="width: 50px; height: 50px; overflow: auto; position: absolute; top: -200px; left: -200px;"><div></div></div>').appendTo("body"),e=t.children().first();return _scrollbarSize=n(e).innerWidth()-n(e).height(100).innerWidth(),n(t).remove(),_scrollbarSize},displayErrorMessage:function(t,e){this.clearAddTOCartErrorMessage(e),n("#ecom-product-actions",e).prepend('<div class="add-to-cart-error-js error callout alert"><p>'+t+"</p></div>"),n.pubsub("publish","WCS.PRODUCTFORM.ERRORMESSAGE",t)},getProductGridProductHeights:function(){var t=n(".stl-product-grid-product-js");if(t.length)return $productGridProductHeights=[],n.each(t,function(t,e){$thisHeight=n(this).outerHeight(),$productGridProductHeights.push($thisHeight)}),$productGridProductHeights},setProductGridProductHeights:function(){var t=this.getProductGridProductHeights(),e=n(".stl-product-grid-product-js"),r=Math.max.apply(null,t)+n(".add-to-cart-error-js").height();n(".stl-product-grid-product-js").hasClass("error-msg-displayed")||n.each(e,function(t,e){n(this).css("height",r+"px").addClass("error-msg-displayed")})},clearAddTOCartErrorMessage:function(t){n("#ecom-product-actions .add-to-cart-error-js",t).remove()},attributeName:function(t){return t.attr("data-attribute-id")},attributeValue:function(t){return t.attr("data-color-identifier")||t.attr("data-attribute-value")},mobileScrollToTopViewAfterSwatchSelection:function(t){var e=n(t.target),r=e.parents(".product-form-js"),i=n(".product-form-js").index(r),o=n("header").hasClass("sticky")?n("header").height():0;0<(e=e.attr("data-role")?e.parent():e).parents(".color-swatches-js").length&&/small|medium/.test(s.size())&&n("html, body").animate({scrollTop:n("div.product-img-js").eq(i).offset().top-o},"slow")},unmarkSelectedAttrContainer:function(t){t.parents(".selection-js").removeClass("attribute-value-selected")},resetButtons:function(t){t.closest(".product-form-container").find(".step-content .attr-container-js:not(.color-swatches-js) .selected").removeClass("selected").end().end().toggleClass("selected",!0).closest(".product-form-container").find(".add-to-bag-js").addClass("disabled").end().find(".shopcart-update-js, .find-brand-store-js, .notify-me-js, .customize-button-js").hide()},resetSizeOptions:function(t,e){var r=e||t.closest(".product-form-js").index();this.unmarkSelectedAttrContainer(t),this.resetButtons(t),n.pubsub("publish","WCS.PRODUCTFORM.RESOLVEQUANTITY",r)},showHideQuantityErrorMessage:function(t){n("#quantity-item").length<1||(0<n("#quantity-item:visible",t).length&&this.isValidQuantity(t)?(n(".select-quantity-error-js",t).addClass("hide"),n("#qty-step-container",t).removeClass("error")):(n(".select-quantity-error-js",t).removeClass("hide"),n("#qty-step-container",t).addClass("error")))},isValidQuantity:function(t){var e=this.getQuantity(t);return!1===isNaN(e)&&0<e&&parseInt(e)==e},getQuantity:function(t){return 0<t.find(".quantity-text-js").length?t.find(".quantity-text-js").val():t.find(".quantity-js").val()},generateQuantityOptions:function(t,e){var r="";if(e=e<t?e:t,0<t)for(var i=1;i<=e;i++)r+='<option value="'+i+'">'+i+"</option>";else r+='<option value="0">0</option>';return r},getEventType:function(t){return t.type}},t(function(){void 0===n.productFormUtil&&(n.productFormUtil=(new e).init())})});
//# sourceMappingURL=../../../../maps/js/wcs/view/product-form/product-form-utilities.hash-5c06d1fbc606434f08b897600790c63b.js.map