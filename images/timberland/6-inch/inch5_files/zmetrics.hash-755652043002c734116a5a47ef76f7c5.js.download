define("wcs.zmetrics",["require","jquery"],function(e,n){var r=new n.Deferred,t=new n.Deferred,i=new n.Deferred;window.zm=window.zm||{listeners:[],trackPageView:function(e){for(var n in zm.listeners)zm.listeners[n].pageView&&zm.listeners[n].pageView(e)},trackProductView:function(e){for(var n in zm.listeners)zm.listeners[n].productView&&zm.listeners[n].productView(e)},trackAddedItem:function(e){for(var n in zm.listeners)zm.listeners[n].addedItem&&zm.listeners[n].addedItem(e)},trackRemovedItem:function(e){for(var n in zm.listeners)zm.listeners[n].removedItem&&zm.listeners[n].removedItem(e)},trackShoppingCart:function(e){for(var n in zm.listeners)zm.listeners[n].shoppingCart&&zm.listeners[n].shoppingCart(e)},trackCheckoutStep:function(e,n){for(var r in zm.listeners)zm.listeners[r].checkoutStep&&zm.listeners[r].checkoutStep(e,n)},trackCheckoutEvent:function(e){for(var n in zm.listeners)zm.listeners[n].checkoutEvent&&zm.listeners[n].checkoutEvent(e)},trackOrder:function(e,n){for(var r in zm.listeners)zm.listeners[r].orderView&&zm.listeners[r].orderView(e,n)},trackLogin:function(e){for(var n in zm.listeners)zm.listeners[n].registrationView&&zm.listeners[n].registrationView(e)},trackEvent:function(e){for(var n in zm.listeners)zm.listeners[n].trackEvent&&zm.listeners[n].trackEvent(e)},trackGeneric:function(e){for(var n in zm.listeners)zm.listeners[n].trackGeneric&&zm.listeners[n].trackGeneric(e)}};var s=WCS_CONFIG.get("ANALYTICS::cmEnabled"),o=WCS_CONFIG.get("ANALYTICS::gtmEnabled");return s?e(["wcs.cm-listener"],function(e){var n={clientId:WCS_CONFIG.get("ANALYTICS::cmClientId"),cmManaged:WCS_CONFIG.get("ANALYTICS::cmManaged"),dcDomain:WCS_CONFIG.get("ANALYTICS::dcDomain"),cookieDomain:WCS_CONFIG.get("ANALYTICS::cmCookieDomain")};window.cm.initMetrics(n),t.resolve()}):t.resolve(),o?e(["wcs.gtm-listener"],function(e){window.gtm.initMetrics(),i.resolve()}):i.resolve(),n.when(t,i).done(function(){r.resolve(window.zm)}).fail(function(){console.error("Problems loading analytics modules"),r.reject(null)}),r.promise()});
//# sourceMappingURL=../../maps/js/metrics/zmetrics.hash-27f5c64dc3d6275841b80a7cff505208.js.map